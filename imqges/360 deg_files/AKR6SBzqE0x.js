if (self.CavalryLogger) { CavalryLogger.start_js(["m7Bhf"]); }

__d("PrivacyBaseFilterConst",[],(function(a,b,c,d,e,f){e.exports={FRIEND_LIST:129,FRIENDS_PLUS_GAMER_FRIENDS:128,FRIENDS_MINUS_ACQUAINTANCES:127,FACEBOOK_EMPLOYEES:112,FACEBOOK_EMPLOYEE_DOGFOODING:113,CUSTOM:111,EVERYONE:80,EVERYONE_MINOR_DEPRECATED:75,NETWORKS_FRIENDS_OF_FRIENDS:60,NETWORKS_FRIENDS:55,FRIENDS_OF_FRIENDS:50,ALL_FRIENDS:40,MUTUAL_FRIENDS_DEPRECATED:35,SELF:10,NOBODY:0}}),null);
__d("VideoCopyrightMatchStatus",[],(function(a,b,c,d,e,f){e.exports={NEW_MATCH:"NEW_MATCH",REPORTED:"REPORTED",ALLOWED:"ALLOWED",ADDED_MATCH:"ADDED_MATCH",REMOVED:"REMOVED",IN_DISPUTE:"IN_DISPUTE",BLOCKED:"BLOCKED",CLAIMED:"CLAIMED",MONITORED:"MONITORED",MANUAL_REVIEW:"MANUAL_REVIEW",REPORTED_OR_REMOVED:"REPORTED_OR_REMOVED",OTHER:"OTHER"}}),null);
__d("VideoCopyrightRuleGraphFields",[],(function(a,b,c,d,e,f){e.exports={ID:"id",NAME:"name",MIGRATION_RULE_ID:"migration_rule_id",COPYRIGHTS:"copyrights",CONDITION_GROUPS:"condition_groups",CREATOR:"creator",CREATED_DATE:"created_date",COPYRIGHTS_COUNT:"copyrights_count",MATCHES_COUNT:"matches_count",IS_IN_MIGRATION:"is_in_migration",IS_NEW_VERSION_RULE:"is_new_version_rule",EXCLUDED_COPYRIGHT_IDS:"excluded_copyright_ids",ACTION:"action",CONDITIONS:"conditions",VALIDITY_STATUS:"validity_status",TYPE:"type",OPERATOR:"operator",VALUE:"value"}}),null);
__d("VideoReferenceMatchState",[],(function(a,b,c,d,e,f){e.exports={CONFLICT:"CONFLICT",DISPUTED:"DISPUTED",DISPUTE_ACCEPTED:"DISPUTE_ACCEPTED",DISPUTE_REJECTED:"DISPUTE_REJECTED",CONFLICT_RESOLVED:"CONFLICT_RESOLVED",AUTO_RESOLVED:"AUTO_RESOLVED",INACTIVE:"INACTIVE",DISPUTE_EXPIRED:"DISPUTE_EXPIRED",OPS_RESOLVED:"OPS_RESOLVED",CONFLICT_EXPIRED:"CONFLICT_EXPIRED",POSSIBLE_CONFLICT:"POSSIBLE_CONFLICT",OWNERSHIP_ASSERTED:"OWNERSHIP_ASSERTED"}}),null);
__d("ComposerXDragDropUtils",["csx","Arbiter","CSS","DOMQuery","Parent","ReactComposerMediaFilterUtils","VideoUploadFeatureDetector"],(function(a,b,c,d,e,f,g){a={handleDragEnterAndLeave:function(a){var c=b("DOMQuery").scry(b("Parent").bySelector(a,"._119"),"._2wr");b("Arbiter").subscribe("dragenter",function(d,e){a==e.element&&c.forEach(b("CSS").hide)});b("Arbiter").subscribe("dragleave",function(d,e){a==e.element&&c.forEach(b("CSS").show)})},filterImages:function(a){var c=b("VideoUploadFeatureDetector").supportsFileAPI(),d=[];for(var e=0;e<a.length;e++){var f=a[e];f.type!=null&&(f.type.match("image/*")?d.push(f):c&&(f.type.match("video/*")||b("ReactComposerMediaFilterUtils").hasVideos([f.name]))&&d.push(f))}return d}};e.exports=a}),null);
__d("keyCommandBackspaceDelight",["EditorState","TextDelightInComposerLogger"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c=a.getSelection();if(!c.isCollapsed())return null;var d=c.getStartKey(),e=a.getCurrentContent();d=e.getBlockForKey(d);if(c.getAnchorOffset()===0)return null;var f=d.getEntityAt(c.getAnchorOffset()-1);if(!f)return null;var g=e.getEntity(f);if(g.getType()!=="DELIGHT")return null;if(g.getData().disabled)return null;if(d.getEntityAt(c.getAnchorOffset())===f)return null;e.mergeEntityData(f,{disabled:!0});g=e.getEntity(f).getData();b("TextDelightInComposerLogger").optOutBackspace(g.funnelKey,g.campaignID,g.keyword,g.surface);return b("EditorState").forceSelection(a,c)};e.exports=a}),null);
__d("addTextDelightInputImpl",["Bootloader","EditorState","React","TextDelightConfig","TextDelightInComposerGating","TextDelightInputDecorator","TextDelightSpan.react","getEntityMatcher","keyCommandBackspaceDelight"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("TextDelightConfig").composerOptions,i=null;a=function(a,c){return function(d){babelHelpers.inheritsLoose(e,d);function e(){var a,e;for(var f=arguments.length,g=new Array(f),i=0;i<f;i++)g[i]=arguments[i];return(a=e=d.call.apply(d,[this].concat(g))||this,e.$1=function(a,d){if(!b("TextDelightInComposerGating").isBackspaceEnabled(c))return"not-handled";var f=null;switch(a){case"backspace":f=b("keyCommandBackspaceDelight")(d);break}if(f){e.props.onChange(f);return"handled"}return e.props.handleKeyCommand?e.props.handleKeyCommand(a,d):"not-handled"},e.$2=null,e.$3=function(a){e.$2&&clearTimeout(e.$2),e.props.onChange&&e.props.onChange(a),a.getCurrentContent().hasText()&&h.autoHighlightThresholdMs>0&&(e.$2=setTimeout(function(){e.$4()},h.autoHighlightThresholdMs))},e.$5=function(){var a=e.props.editorState;e.$3(b("EditorState").create({currentContent:a.getCurrentContent(),decorator:a.getDecorator(),selection:a.getSelection()}))},a)||babelHelpers.assertThisInitialized(e)}var f=e.prototype;f.blur=function(){var a=this.refs.component;a&&typeof a.blur==="function"&&a.blur()};f.click=function(){var a=this.refs.component;a&&typeof a.click==="function"&&a.click()};f.focus=function(){var a=this.refs.component;a&&typeof a.focus==="function"&&a.focus()};f.$4=function(){if(!i){b("Bootloader").loadModules(["TextDelightInComposerMatcher"],function(a){i=a},"addTextDelightInputImpl");return}var a=i.matchLastWord(this.props.editorState,this.props.delightFunnelID,c);this.props.onChange&&this.props.onChange(a)};f.componentWillUnmount=function(){clearTimeout(this.$2)};f.render=function(){var d;if(!b("TextDelightInComposerGating").isEnabled(c))return g.jsx(a,babelHelpers["extends"]({},this.props,{ref:"component"}));if(this.props.config&&this.props.config.actorConfig&&this.props.config.actorConfig.selectedActorID&&this.props.config.actorConfig.selectedActorID!==this.props.config.actorConfig.viewerAccountID)return g.jsx(a,babelHelpers["extends"]({},this.props,{ref:"component"}));var e=this.props.editorState,f=e.getDecorator();if(!b("TextDelightInComposerGating").isHighlightEnabled(c))return g.jsx(a,babelHelpers["extends"]({},this.props,{ref:"component"}));c==="comment"&&(f==null||((d=f)!=null?(d=d.__installedDecorators)!=null?d.textDelightsDecorator:d:d)!==!0)&&(e=b("EditorState").set(e,{decorator:new(b("TextDelightInputDecorator"))({strategy:b("getEntityMatcher")(function(a){return a.getType()==="DELIGHT"}),component:b("TextDelightSpan.react"),props:{triggerChange:this.$5}},f)}));return g.jsx(a,babelHelpers["extends"]({},this.props,{onChange:this.$3,editorState:e,handleKeyCommand:this.$1,ref:"component"}))};return e}(g.Component)};e.exports=a}),null);
__d("OldPrivacySelectorTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:OldPrivacySelectorLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:OldPrivacySelectorLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:OldPrivacySelectorLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAdamaRenderLocation=function(a){this.$1.adama_render_location=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setFbid=function(a){this.$1.fbid=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={adama_render_location:!0,event:!0,fbid:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("AudienceSelectorTags",[],(function(a,b,c,d,e,f){var g={};a={hasTags:function(a){return Object.prototype.hasOwnProperty.call(g,a)},setHasTags:function(a){a&&(g[a]=!0)}};e.exports=a}),null);
__d("PrivacySelectorOption",["csx","fbt","Arbiter","AudienceSelectorTags","CSS","CurrentUser","DOM","DynamicIconSelector","Parent","PrivacyBaseFilterConst","PrivacyConst","SelectorDeprecated","intlList"],(function(a,b,c,d,e,f,g,h){function a(a,c){if(!a)throw new Error("there's no DOM option. Config data: ",c);this._elem=a;this._selector=b("Parent").byClass(this._elem,"audienceSelector");if(!this._selector)return;this._priv_base_val=c.priv_base_val;this._audienceCount="";this._hasRestricted=c.has_restricted||!1;this._isCustom=c.is_custom||!1;this._includedAudience=c.included||"";this._excludedAudience=c.excluded||{};this._excludedTaggees={};this._tagExpansionBehavior=c.tag_expansion_behavior||b("PrivacyConst").TagExpansion.NONE;this._plusLabel=b("DOM").scry(a,".plusLabel")[0];this._audienceCountLabel=b("DOM").scry(a,".audienceCountLabel")[0];this._taggedIDs=[];this._tags=[];this._recalculateTooltipAndLabel();this._updateOptionCountLabel();this._updateSelector();b("Arbiter").subscribe("Composer/changedtags",function(a,c){a=b("CSS").hasClass(this._selector,"composerAudienceSelector");if(!this._getChangedData()||!a)return;this._tags=[];this._taggedIDs=[];for(var a=0;a<c.withTags.length;a++){var d=c.withTags[a].info;d.uid!=b("CurrentUser").getID()&&(this._tags.push(d.text),this._taggedIDs.push(d.uid))}for(var e in c.mention)c.mention[e].type=="user"&&c.mention[e].uid!=b("CurrentUser").getID()&&(this._tags.push(c.mention[e].text),this._taggedIDs.push(c.mention[e].uid));d=b("DOM").scry(document.body,"._5l7q")[0];d&&!!this._taggedIDs.length&&b("CSS").hide(d);this._updateOptionCountLabel();a=this._recalculateTooltipAndLabel();a&&b("SelectorDeprecated").isOptionSelected(this._elem)&&(this._updateSelector(),b("Arbiter").inform("SelectedPrivacyOption/changed",this._getChangedData()))}.bind(this));b("SelectorDeprecated").listen(this._selector,"change",this._updateSelector.bind(this))}Object.assign(a.prototype,{updateOption:function(a,b,c,d,e){this._priv_base_val=a;this._includedAudience=b;this._excludedAudience=c;this._tagExpansionBehavior=d;this._audienceCount=e;this._recalculateTooltipAndLabel();this._updateOptionCountLabel();return{label:this._label,tooltip:this._tooltip}},_recalculateTooltipAndLabel:function(){var a=this._label;this._label=this._getNewSelectorLabel();var b=this._tooltip;this._tooltip=this._getNewTooltip();return b!=this._tooltip||a!=this._label},_getNewTooltip:function(){if(this._isCustom)return this._recalcCustomTooltip();switch(this._priv_base_val){case b("PrivacyBaseFilterConst").ALL_FRIENDS:return this._recalcFriendsTooltip();case b("PrivacyBaseFilterConst").FRIENDS_MINUS_ACQUAINTANCES:return this._recalcFriendsMinusTooltip();case b("PrivacyBaseFilterConst").SELF:var a=this._getTagExpansionText();return a?a:this._getIncludedAudience();default:return this._recalcCustomTooltip()}},_getNewSelectorLabel:function(){var a=this._elem.getAttribute("data-label").replace(/\(.*\)/,"");if(this._showAudienceCount()){var b=" ("+this._audienceCount+")";a+=b}this._isTagExpanded()&&(a+=" (+)");return a},_updateOptionCountLabel:function(){if(this._audienceCountLabel){if(this._showAudienceCount()){var a=" ("+this._audienceCount+")";b("DOM").setContent(this._audienceCountLabel,a)}b("CSS").conditionShow(this._audienceCountLabel,this._showAudienceCount())}this._plusLabel&&b("CSS").conditionShow(this._plusLabel,this._isTagExpanded())},_getChangedData:function(){return{tags:this._taggedIDs,privacy:this._priv_base_val}},_showAudienceCount:function(){return this._audienceCountLabel&&this._audienceCount&&this._audienceCount.length>0},_isTagExpanded:function(){var a=this._getTagExpansionBehavior(),c=!!this._taggedIDs.length||this._alreadyHasTags();return c&&a!=b("PrivacyConst").TagExpansion.NONE},_alreadyHasTags:function(){var a=b("DOM").scry(this._selector,"*[data-oid]")[0];a=a&&a.getAttribute("data-oid");return a&&b("AudienceSelectorTags").hasTags(a)},_updateSelector:function(){if(!this._isSharedAlbum()&&b("SelectorDeprecated").isOptionSelected(this._elem)){var a=b("CSS").hasClass(this._selector,"composerAudienceSelector");a&&b("SelectorDeprecated").setButtonLabel(this._selector,this._label);b("SelectorDeprecated").setButtonTooltip(this._selector,this._tooltip);b("DynamicIconSelector").swapIcon(this._selector);return!1}return!0},_isSharedAlbum:function(){var a=b("DOM").scry(this._selector,"*[data-shared-album]")[0];return a&&a.getAttribute("data-shared-album")},_getTagExpansionBehavior:function(){if(this._tagExpansionBehavior)return this._tagExpansionBehavior;var a=this._priv_base_val===b("PrivacyConst").FriendsValue.SELF,c=this._priv_base_val===b("PrivacyConst").FriendsValue.EVERYONE;if(a&&this._isSharedAlbum()||c)return b("PrivacyConst").TagExpansion.NONE;else if(this._priv_base_val<b("PrivacyConst").FriendsValue.ALL_FRIENDS)return b("PrivacyConst").TagExpansion.TAGGEES;return b("PrivacyConst").TagExpansion.FRIENDS_OF_TAGGEES},_getTagExpansionText:function(){var a=this._getTagExpansionBehavior();if(!!this._taggedIDs.length||this._alreadyHasTags()){if(a==b("PrivacyConst").TagExpansion.FRIENDS_OF_TAGGEES)return h._("friends of anyone tagged");else if(a==b("PrivacyConst").TagExpansion.TAGGEES)return h._("Anyone tagged");return""}return""},_getIncludedAudience:function(){if(this._includedAudience)return this._includedAudience;var a=this._priv_base_val===b("PrivacyConst").FriendsValue.SELF;return a&&!this._isSharedAlbum()?h._("Only Me"):this._elem.getAttribute("data-label")},_getCombinedSentence:function(a,b){return!b?a:h._("{list of people who can see this}; Except: {list of people who cannot see this}",[h._param("list of people who can see this",a),h._param("list of people who cannot see this",b)])},_recalcFriendsTooltip:function(){var a=this._tags.length;if(a>2)return this._hasRestricted?h._("Your friends and friends of anyone tagged; Except: Restricted"):h._("Your friends and friends of anyone tagged");else if(a==2)if(this._hasRestricted)return h._("Your friends, {user}'s friends and {user2}'s friends; Except: Restricted",[h._param("user",this._tags[0]),h._param("user2",this._tags[1])]);else return h._("Your friends, {user}'s friends and {user2}'s friends",[h._param("user",this._tags[0]),h._param("user2",this._tags[1])]);else if(a==1)if(this._hasRestricted)return h._("Your friends and {user}'s friends; Except: Restricted",[h._param("user",this._tags[0])]);else return h._("Your friends and {user}'s friends",[h._param("user",this._tags[0])]);else return this._hasRestricted?h._("Your friends; Except: Restricted"):h._("Your friends")},_recalcFriendsMinusTooltip:function(){var a=this._tags.length;if(a>0||this._alreadyHasTags()){a=h._("friends of anyone tagged");a=h._("{people who can see this}, {list of more people who can see this}",[h._param("people who can see this",h._("Your friends")),h._param("list of more people who can see this",a)]);var b=h._("Acquaintances");this._hasRestricted&&(b=h._("{Name of Acquaintances friend list}, {restricted}",[h._param("Name of Acquaintances friend list",b),h._param("restricted",h._("Restricted"))]));return this._getCombinedSentence(a,b)}else return this._hasRestricted?h._("Friends; Except: Acquaintances, Restricted"):h._("Friends except Acquaintances")},_recalcCustomTooltip:function(){var a=this._getIncludedAudience(),c=this._getTagExpansionText();c&&(a=h._("{list of people who can see this}, {list of additional people who can see this}",[h._param("list of people who can see this",a),h._param("list of additional people who can see this",c)]));for(var c=0;c<this._taggedIDs.length;c++){var d=this._taggedIDs[c];if(d in this._excludedAudience){delete this._excludedAudience[d];this._excludedTaggees[d]=this._tags[c];break}}for(var e in this._excludedTaggees)if(Object.prototype.hasOwnProperty.call(this._excludedTaggees,e)&&this._taggedIDs.indexOf(e)===-1){this._excludedAudience[e]=this._excludedTaggees[e];delete this._excludedTaggees[e];break}d=[];for(var f in this._excludedAudience)Object.prototype.hasOwnProperty.call(this._excludedAudience,f)&&d.push(this._excludedAudience[f]);return this._getCombinedSentence(a,b("intlList")(d))}});e.exports=a}),null);
__d("CustomPrivacyOptionController",["Arbiter","AsyncDialog","AsyncRequest","DOM","Event","Form","Parent","PrivacyConst","PrivacySelectorOption","SelectorDeprecated","XPrivacyCustomDialogController"],(function(a,b,c,d,e,f){function g(a,c){if(!a)return;setTimeout(function(){this._selector=b("Parent").byClass(a,"audienceSelector");if(!this._selector)return;this.initCustomState(a,c.option_id,c.id);var d={priv_base_val:c.base_audience_value,audience_count:c.audience_count,is_custom:!0,included:c.included_audience,excluded:c.excluded_audience,tag_expansion_behavior:c.tag_expansion_behavior};this._optionJSInstance=new(b("PrivacySelectorOption"))(a,d);b("Event").listen(a,"click",function(a){this.openCustomDialog(a,c.option_id,c.explain_tags,c.autosave,c.limit_community,c.limit_facebook,c.limit_fof,c.limit_tagexpand,c.source)}.bind(this));b("SelectorDeprecated").listen(this._selector,"select",function(a){a.option._id!=this._id&&this.clearCustomState()}.bind(this))}.bind(this),0)}Object.assign(g,{_instances:{},update:function(a,c,d,e,f,h,i,j,k){e=g._instances[a];e._update(c,d)._updateOption(d,f,h,i,j,k);b("Arbiter").inform("Form/change",{node:e._container})},getData:function(a){a=g._instances[a];return a&&a._privacyData},setPrivacyData:function(a,b,c){g._instances[a]._update(b,c)}});Object.assign(g.prototype,{_updateOption:function(a,c,d,e,f,g){a=b("SelectorDeprecated").getOption(this._selector,a)||b("SelectorDeprecated").getOption(this._selector,b("PrivacyConst").BaseValue.CUSTOM+"");c=this._optionJSInstance.updateOption(c,d,e,f,g);b("Arbiter").inform("CustomPrivacyOptionController/update",{selector:this._selector,option:a,tooltip:c.tooltip,label:c.label});return this},_update:function(a,c){c=c==b("PrivacyConst").BaseValue.CUSTOM||!b("SelectorDeprecated").getOption(this._selector,c);var d=this._selector.getAttribute("data-name");this.updateCustomState(a,c,d);return this},initCustomState:function(a,c,d){g._instances[c]=this;this._container=b("DOM").find(a,".customPrivacyInputs");this._id=d;this._privacyData={};c=b("Form").serialize(this._container);c.audience&&(this._privacyData=c.audience[d]);return a},openCustomDialog:function(a,c,d,e,f,g,h,i,j){c=b("XPrivacyCustomDialogController").getURIBuilder().setString("option_id",c).setString("id",this._id).setString("privacy_data",JSON.stringify(this._privacyData)).setBool("explain_tags",d).setBool("autosave",e).setBool("limit_community",f).setBool("limit_facebook",g).setBool("limit_fof",h).setBool("limit_tagexpand",i).setBool("is_new_privacy_selector",!1).setString("source",j).getURI();d=new(b("AsyncRequest"))(c);d.setRelativeTo(a.getTarget());b("AsyncDialog").send(d,function(a){a.subscribe("cancel",function(){b("Arbiter").inform("CustomPrivacyOptionController/cancel",{selector:this._selector})}.bind(this))}.bind(this))},updateCustomState:function(a,c,d){this.clearCustomState();this._privacyData=babelHelpers["extends"]({},a);if(c&&d){d=d.slice(0,-"[value]".length);c={};c[d]=a;b("Form").createHiddenInputs(c,this._container,{},!0)}},clearCustomState:function(){this._privacyData={},b("DOM").empty(this._container)}});e.exports=g}),null);
__d("AudienceSelector",["Arbiter","AsyncRequest","AudienceSelectorTags","CSS","CustomPrivacyOptionController","DOM","DOMQuery","DynamicIconSelector","OldPrivacySelectorTypedLogger","PrivacyConst","SelectorDeprecated"],(function(a,b,c,d,e,f){var g={};b("SelectorDeprecated").subscribe("select",function(a,c){if(!b("CSS").hasClass(c.selector,"audienceSelector"))return;a=b("SelectorDeprecated").getOptionValue(c.option);c.value=a;b("Arbiter").inform("AudienceSelector/changed",c);if(a==b("PrivacyConst").BaseValue.CUSTOM&&!b("CSS").hasClass(c.option,"noDialog")){b("SelectorDeprecated").toggle(c.selector);return!1}b("Arbiter").inform("AudienceSelector/changedNonCustomDialogButton",c);if(b("CSS").hasClass(c.selector,"dataTooltip")){a=b("DOM").find(c.option,".itemAnchor").getAttribute("data-tooltip");b("SelectorDeprecated").setButtonTooltip(c.selector,a||null)}if(!b("CSS").hasClass(c.option,"specialOption"))return;a=b("DOM").find(c.option,"a").getAttribute("data-type");if(b("CSS").hasClass(c.option,"moreOption")){b("CSS").addClass(c.selector,a);b("CSS").addClass(c.selector,"showSecondaryOptions");return!1}else if(b("CSS").hasClass(c.option,"returnOption")){b("CSS").removeClass(c.selector,"showSecondaryOptions");b("CSS").removeClass(c.selector,"friendList");return!1}});var h=function(a,c){var d=i(a,"data-fbid-for-logging");a=i(a,"data-adama-render-location");new(b("OldPrivacySelectorTypedLogger"))().setEvent(c).setFbid(d).setAdamaRenderLocation(a).log()},i=function(a,c){var d=a.getAttribute(c);if(d)return d;d=b("DOMQuery").scry(a,".uiSelectorButton")[0];return d?d.getAttribute(c):null};function j(a){var b=document.documentElement;a=a.getBoundingClientRect();return a.top>=0&&a.bottom<=(window.innerHeight||b.clientHeight)&&a.left>=0&&a.right<=(window.innerWidth||b.clientWidth)}b("SelectorDeprecated").subscribe(["open","close"],function(a,c){if(!b("CSS").hasClass(c.selector,"audienceSelector"))return;var d=b("DOMQuery").scry(c.selector,".uiSelectorMenuWrapper");if(d.length>0){d=d[0];b("CSS").conditionClass(d,"audienceSelectorUpwards",!j(d))}d=a==="open"?"open_menu":"close_menu";h(c.selector,d)});var k={keepSynchronized:function(a,b){g[a]||(g[a]={}),g[a][b.id]=b},setHasTags:function(a){b("AudienceSelectorTags").setHasTags(a)},getComposerInstance:function(){var a=g["PrivacyLiteNav/audience"];if(a){var b;for(var c in a){b=a[c];return b}}return null},forceAndKeepSynchronized:function(a,c){k.keepSynchronized(a,c),b("Arbiter").inform("AudienceSelector/update",{option:b("SelectorDeprecated").getSelectedOptions(c)[0],selector:c})},get:function(a){if(b("CSS").hasClass(a,"audienceSelector"))return a;a=b("DOM").scry(a,"div.audienceSelector");if(a.length!=1)return;return a[0]},setAudience:function(a,c){var d=k.get(a);b("SelectorDeprecated").loadMenu(d,function(a){b("SelectorDeprecated").setSelected(d,c.toString());b("DynamicIconSelector").swapIcon(d);a=b("SelectorDeprecated").getSelectedOptions(d);var e=a[0]&&b("DOM").find(a[0],"a");e&&e.getAttribute("ajaxify")&&b("AsyncRequest").bootstrap(e.getAttribute("ajaxify"),e,!0);b("Arbiter").inform("AudienceSelector/changed",{option:a[0],selector:d})})}};b("Arbiter").subscribe("CustomPrivacyOptionController/update",function(a,c){if(!b("CSS").hasClass(c.selector,"audienceSelector"))return;b("SelectorDeprecated").setSelected(c.selector,b("SelectorDeprecated").getOptionValue(c.option));b("DynamicIconSelector").swapIcon(c.selector);a=b("CSS").hasClass(c.selector,"composerAudienceSelector");a&&b("SelectorDeprecated").setButtonLabel(c.selector,c.label);b("SelectorDeprecated").setButtonTooltip(c.selector,c.tooltip);h(c.selector,"custom_save");b("Arbiter").inform("AudienceSelector/update",c)});b("Arbiter").subscribe("CustomPrivacyOptionController/cancel",function(a,c){if(!b("CSS").hasClass(c.selector,"audienceSelector"))return;h(c.selector,"custom_cancel")});b("Arbiter").subscribe(["AudienceSelector/changed","AudienceSelector/update"],function(a,c){var d=b("SelectorDeprecated").getOptionValue(c.option),e=null;d==b("PrivacyConst").BaseValue.EVERYONE?e="select_everyone":d==b("PrivacyConst").BaseValue.FRIENDS_OF_FRIENDS?e="select_friends_of_friends":d==b("PrivacyConst").BaseValue.ALL_FRIENDS?e="select_friends":d==b("PrivacyConst").BaseValue.FRIENDS_MINUS_ACQUAINTANCES?e="select_friends_except_acquaintances":d==b("PrivacyConst").BaseValue.SELF?e="select_only_me":d==b("PrivacyConst").BaseValue.CUSTOM?a==="AudienceSelector/changed"&&(e="select_custom"):d==b("PrivacyConst").BaseValue.FACEBOOK_EMPLOYEES?e="select_fb_only":b("CSS").hasClass(c.option,"friendListOption")?e="select_friendlist":b("CSS").hasClass(c.option,"moreOption")?e="select_see_all_lists":b("CSS").hasClass(c.option,"returnOption")?e="select_return":e="select_other";e!=null&&h(c.selector,e);e={};if(d==b("PrivacyConst").BaseValue.CUSTOM){if(a=="AudienceSelector/changed")return;e=b("CustomPrivacyOptionController").getData(c.option.id);if(!e)return}for(var f in g){a=g[f];if(a[c.selector.id]){b("Arbiter").inform("AudienceSelector/syncNonSelectorIcon",{category:f});for(var i in a){var j=a[i];if(!j||c.selector===j)continue;b("SelectorDeprecated").getValue(j)!==d&&(b("SelectorDeprecated").setSelected(j,d),b("DynamicIconSelector").swapIcon(j));if(d==b("PrivacyConst").BaseValue.CUSTOM){var k=b("SelectorDeprecated").getOption(j,b("PrivacyConst").BaseValue.CUSTOM+"");k&&(b("CustomPrivacyOptionController").setPrivacyData(k.id,e,d),b("SelectorDeprecated").setButtonTooltip(j,c.tooltip))}}}}});e.exports=k}),null);
__d("PageContentTabRightsManagerStore",["Arbiter","EventEmitter","PageContentTabConstants"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b;b=a.call(this)||this;b.$PageContentTabRightsManagerStore1="";b.$PageContentTabRightsManagerStore2="DEFAULT";b.$PageContentTabRightsManagerStore3=!1;b.$PageContentTabRightsManagerStore4=!1;b.$PageContentTabRightsManagerStore5=0;b.$PageContentTabRightsManagerStore6=0;return b}var d=c.prototype;d.init=function(a,b,c,d,e,f){this.$PageContentTabRightsManagerStore1=a,this.$PageContentTabRightsManagerStore2=b,this.$PageContentTabRightsManagerStore3=c,this.$PageContentTabRightsManagerStore4=d,this.$PageContentTabRightsManagerStore5=e,this.$PageContentTabRightsManagerStore6=f};d.getIsRMLite=function(){return this.$PageContentTabRightsManagerStore2==="LITE"};d.getIsRM4P=function(){return this.$PageContentTabRightsManagerStore2==="MUSIC_PUBLISHER"};d.setRMVersion=function(a){this.$PageContentTabRightsManagerStore2=a};d.getHasUploadedReferenceFiles=function(){return this.$PageContentTabRightsManagerStore3};d.getHasSetUpMatchSettings=function(){return this.$PageContentTabRightsManagerStore4};d.getUserAccessToken=function(){return this.$PageContentTabRightsManagerStore1};d.getNumVideosImported=function(){return this.$PageContentTabRightsManagerStore5};d.getTotalVideosToImport=function(){return this.$PageContentTabRightsManagerStore6};d.setHasUploadedReferenceFiles=function(){this.$PageContentTabRightsManagerStore3||(this.$PageContentTabRightsManagerStore3=!0,this.emit("change"))};d.setHasSetUpMatchSettings=function(){this.$PageContentTabRightsManagerStore4||(this.$PageContentTabRightsManagerStore4=!0,this.emit("change"),b("Arbiter").inform("reloadContentTabInBackground/"+b("PageContentTabConstants").TABS.ALL_REFERENCE_FILES))};d.setTotalVideosToImport=function(a){this.$PageContentTabRightsManagerStore6=a,this.emit("change")};d.setImportFinished=function(){this.$PageContentTabRightsManagerStore5=0,this.$PageContentTabRightsManagerStore6=0,this.emit("change")};return c}(b("EventEmitter"));e.exports=new a()}),null);
__d("RightsManagerFbt",["fbt"],(function(a,b,c,d,e,f,g){"use strict";e.exports={ALLOWED:g._("Allowed"),ATTRIBUTION_SECTION_TITLE:g._("Select Ownership Link"),ATTRIBUTION_SECTION_TITLE_LITE:g._("Destination Page"),BLOCKED:g._("Blocked"),CLAIMED:g._("Claimed"),INSIGHTS:g._("Details"),MATCHES:g._("Matches"),MANUAL_REVIEW:g._("Manual Review"),MONITORED:g._("Monitored"),OWNERSHIP_LINK:g._("Ownership Link"),MANUAL_CLAIMS:g._("Manual Claims"),PROTECTED_VIDEO:g._("Protected Videos"),PROTECTED_VIDEOS:g._("Protected Videos"),REMOVED:g._("Removed"),REPORTED:g._("Reported"),STATUS:g._("Status"),YOUR_FILE:g._("Your File")}}),null);
__d("XStickyComposerChangeController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/sticky_composer/change/",{privacyx:{type:"String"},logging_source:{type:"String"}})}),null);
__d("PrivacySelector",["csx","Promise","regeneratorRuntime","Arbiter","ArbiterMixin","AsyncRequest","AudienceSelector","CSS","DataStore","DOM","PrivacyConst","PrivacySelectorNewDispatcher","Run","SelectorDeprecated","SubscriptionsHandler","XStickyComposerChangeController","mixin","promiseDone"],(function(a,b,c,d,e,f,g){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;c instanceof HTMLElement?d.$PrivacySelector3=c:d.$PrivacySelector1=c;d.$PrivacySelector7=null;d.$PrivacySelector6=new(b("SubscriptionsHandler"))();d.$PrivacySelector5=new(b("SubscriptionsHandler"))();d.$PrivacySelector1!=null?d.$PrivacySelector8():d.$PrivacySelector9();b("Run").onLeave(d.cleanup.bind(babelHelpers.assertThisInitialized(d)));return d}var d=c.prototype;d.select=function(a,c,d){var e=this;if(a==null||c==null)throw new Error("PrivacySelector.select: you must pass in privacyParam and privacyBase");if(this.$PrivacySelector1!=null){var f=this.$PrivacySelector1;d&&this.$PrivacySelector6.addSubscriptions(f.subscribeOnce("changed",function(a,b){d&&d("changed",{post_param:b.post_param})}));f.selectOption(a)}else d&&this.$PrivacySelector5.addSubscriptions(b("Arbiter").subscribe("AudienceSelector/changed",function(a,c){if(e.$PrivacySelector10(c.selector)){a=b("SelectorDeprecated").getOptionValue(c.option);d&&d("changed",{privacy_base:a})}})),b("AudienceSelector").setAudience(this.$PrivacySelector3,c)};d.expandFull=function(a){this.$PrivacySelector1!=null?this.$PrivacySelector1.openSelectorExpanded(a):this.expand(a)};d.expandFullAndShowFlyout=function(a){this.expandFull(this.showFlyoutOnMenu.bind(this,a))};d.expand=function(a){var c=this;if(this.$PrivacySelector1!=null)this.$PrivacySelector1.openSelector(a);else{var d=b("SelectorDeprecated").getSelectorMenu(this.$PrivacySelector3);!d?b("SelectorDeprecated").loadMenu(this.$PrivacySelector3,function(){a&&a()}):this.$PrivacySelector5.addSubscriptions(b("SelectorDeprecated").listen(this.$PrivacySelector3,"open",function(){a&&a(),c.$PrivacySelector10(c.$PrivacySelector3)}));b("SelectorDeprecated").toggle(this.$PrivacySelector3,a)}};d.showFlyoutOnMenu=function(a){this.$PrivacySelector2&&this.$PrivacySelector2.hide();this.$PrivacySelector2=a;var c;this.$PrivacySelector1!=null?(c=this.$PrivacySelector1.getMenuElement(),a.setOffsetY(85)):(c=b("DOM").scry(this.$PrivacySelector3,"div.uiSelectorMenuWrapper")[0],a.setOffsetY(13));a.setContext(c);a.show()};d.setOnClose=function(a){this.$PrivacySelector7=a};d.cleanup=function(){this.$PrivacySelector6.release(),this.$PrivacySelector6=new(b("SubscriptionsHandler"))(),this.$PrivacySelector5.release(),this.$PrivacySelector5=new(b("SubscriptionsHandler"))(),this.$PrivacySelector2&&this.$PrivacySelector2.hide(),this.$PrivacySelector2=null,this.$PrivacySelector7=null};d.disable=function(){this.$PrivacySelector1!=null?this.$PrivacySelector1.disable():b("SelectorDeprecated").setEnabled(this.$PrivacySelector3,!1)};d.enable=function(){this.$PrivacySelector1!=null?this.$PrivacySelector1.enable():b("SelectorDeprecated").setEnabled(this.$PrivacySelector3,!0)};c.get=function(a){if(!a)return null;var b=c.getAdamaSelectorInstance(a);return b?new c(b):new c(a)};c.genAndThen=function(a,d){a=c.getViableIDsForSelectorFetch(a);if(!a.length)return;a=c.$PrivacySelector12(a);var e=a.then(function(a){var b=a[0];a=a[1];d(b);return[b,a]});b("promiseDone")(e,function(a){a[0];a=a[1];c.$PrivacySelector11[a]=e})};c.getViableIDsForSelectorFetch=function(a){var b=[];a.id&&b.push(a.id);a=c.getDOMFromStory(a);a&&a.id&&b.push(a.id);return b};c.$PrivacySelector12=function(a){for(var d=a,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;g=c.$PrivacySelector11[g];if(g!=null)return g}return new(b("Promise"))(function(d){var e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:e=null;case 1:if(e=c.$PrivacySelector13(a)){f.next=6;break}f.next=4;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(a){return setTimeout(a,500)}));case 4:f.next=1;break;case 6:d(e);case 7:case"end":return f.stop()}},null,this)})};c.$PrivacySelector13=function(a){for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=b("DataStore").get(e,"selector");if(f)return[f,e]}return null};c.getAdamaSelectorInstance=function(a){return c.$PrivacySelector14(a)||c.$PrivacySelector14(c.getDOMFromStory(a))};c.$PrivacySelector14=function(a){a=a&&a.id;return!a?null:b("DataStore").get(a,"selector")};c.getDOMFromStory=function(a){if(!a)return null;var c=b("DOM").scry(a,"._43_1")[0];return c?c:b("AudienceSelector").get(a)};c.getIconFromSelectorDOM=function(a){return b("DOM").scry(a,"i.img")[0]};c.setComposerPrivacy=function(a,c,d){d=b("XStickyComposerChangeController").getURIBuilder().setString("privacyx",a).setString("logging_source",d);new(b("AsyncRequest"))(d.getURI()).send();b("PrivacySelectorNewDispatcher").handleUpdateFromSelector({selector_type:8787670733..toString(),post_param:a,unique_value:"_updateStickyComposerPrivacy"});d=b("AudienceSelector").getComposerInstance(c);d&&b("AudienceSelector").setAudience(d,c)};c.isFakeOrUneditableSelector=function(a){return b("CSS").matchesSelector(a,"._2qwi")||b("CSS").matchesSelector(a,"._29ee")||b("CSS").matchesSelector(a,"._jl")||b("DOM").scry(a,"._2qwi")[0]||b("DOM").scry(a,"._29ee")[0]||b("DOM").scry(a,"._jl")[0]};d.$PrivacySelector8=function(){var a=this,b=this.$PrivacySelector1;if(!b)return;this.$PrivacySelector6.addSubscriptions(b.subscribe("changed",function(b,c){return a.inform("changed",{post_param:c.post_param})}),b.subscribe("selectorFinished",function(){return a.$PrivacySelector7&&a.$PrivacySelector7()}))};d.$PrivacySelector9=function(){var a=this;this.$PrivacySelector6.addSubscriptions(b("Arbiter").subscribe("AudienceSelector/update",function(c,d){if(a.$PrivacySelector3!==d.selector)return;c=b("SelectorDeprecated").getOptionValue(d.option);a.inform("changed",{privacy_base:c})}),b("Arbiter").subscribe("AudienceSelector/changed",function(c,d){if(a.$PrivacySelector3!==d.selector)return;if(b("CSS").hasClass(d.option,"moreOption")||b("CSS").hasClass(d.option,"returnOption"))return;d.value!=b("PrivacyConst").BaseValue.CUSTOM?a.inform("changed",{privacy_base:d.value}):d.value==b("PrivacyConst").BaseValue.CUSTOM&&(a.$PrivacySelector4=!0)}),b("SelectorDeprecated").listen(this.$PrivacySelector3,"close",function(){if(a.$PrivacySelector4){a.$PrivacySelector4=!1;return}a.$PrivacySelector7&&a.$PrivacySelector7()}),b("Arbiter").subscribe("CustomPrivacyOptionController/cancel",function(b,c){if(a.$PrivacySelector3!==c.selector)return;a.$PrivacySelector7&&a.$PrivacySelector7()}))};d.$PrivacySelector10=function(a){if(a!=this.$PrivacySelector3)return!1;this.$PrivacySelector5.release();this.$PrivacySelector5=new(b("SubscriptionsHandler"))();return!0};return c}(b("mixin")(b("ArbiterMixin")));a.$PrivacySelector11={};e.exports=a}),null);
__d("VideoCopyrightMonitoringType",["fbt"],(function(a,b,c,d,e,f,g){a={VIDEO_AND_AUDIO:{intValue:1,value:"VIDEO_AND_AUDIO",label:g._("Video & Audio")},VIDEO_ONLY:{intValue:2,value:"VIDEO_ONLY",label:g._("Video Only")},AUDIO_ONLY:{intValue:3,value:"AUDIO_ONLY",label:g._("Audio Only")}};e.exports=a}),null);
__d("VideoCopyrightPublisherType",["fbt"],(function(a,b,c,d,e,f,g){a={PAGE:{value:"page",label:g._("Pages"),summaryLabel:g._("Pages")},PERSON:{value:"person",label:g._("Profiles"),summaryLabel:g._("Profiles")}};e.exports=a}),null);
__d("CopyrightReferenceFileGraphFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CONTENT_TYPE:"content_type",DOWNLOAD_HD_URL:"download_hd_url",DURATION_IN_SEC:"duration_in_sec",ENCODING_STATUS:"encoding_status",ID:"id",LIVE_STATUS:"live_status",PUBLISHED_TIME:"published_time",COPYRIGHT_CREATION_TIME:"copyright_creation_time",THUMBNAIL_URL:"thumbnail_url",THUMBNAIL_URL_WHILE_ENCODING:"thumbnail_url_while_encoding",TITLE:"title",METADATA:"metadata",UNIVERSAL_CONTENT_ID:"universal_content_id",ISWC:"iswc",WRITER_NAMES:"writer_names",DISPLAY_ARTIST:"display_artist",SUB_TITLE:"sub_title"})}),null);
__d("XRightsManagerInstagramUserNameToIDController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/copyright/ig_user_name_to_id/",{page_id:{type:"FBID",required:!0},user_names:{type:"StringSet",required:!0}})}),null);
__d("IGUserDataFetcher",["regeneratorRuntime","AsyncRequest","XRightsManagerInstagramUserNameToIDController"],(function(a,b,c,d,e,f){"use strict";e.exports={gen:function(a,c){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:d=b("XRightsManagerInstagramUserNameToIDController").getURIBuilder().setFBID("page_id",c).setStringSet("user_names",a).getURI();return e.abrupt("return",new(b("AsyncRequest"))(d).setMethod("GET").setURI(d).setReadOnly(!0).exec());case 2:case"end":return e.stop()}},null,this)}}}),null);
__d("VideoCopyrightTrustedPartnerInfoGraphFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CAN_CONFIRM_BLOCK:"can_confirm_block",CONFIRM_BLOCK_TIME:"confirm_block_time",CAN_CONFIRM_ACTION:"can_confirm_action",CONFIRM_ACTION_TIME:"confirm_action_time",IS_TRUSTED_PARTNER_MATCH:"is_trusted_partner_match",IS_FLAGGED_ENTITY_MATCH:"is_flagged_entity_match"})}),null);
__d("XVideoCopyrightMatchDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/copyright/match/dialog/",{id:{type:"Int",required:!0},source:{type:"Enum",required:!0,enumType:1},__asyncDialog:{type:"Int"}})}),null);
__d("VideoCopyrightUtils",["ix","cx","fbt","invariant","regeneratorRuntime","ActorURI","AdsGenericFilter","AdsGenericFilterField","AdsGenericFilterFieldType","AdsGenericFilterSet","AsyncDialog","AsyncRequest","CopyrightReferenceFileGraphFields","GraphAPIFieldUtils","IGUserDataFetcher","Image.react","PageContentTabConstants","PageContentTabLogger","PageContentTabRightsManagerStore","React","RightsManagerFbt","TooltipData","VideoCopyrightGraphAPIVersion","VideoCopyrightMatchStatus","VideoCopyrightMonitoringType","VideoCopyrightPublisherType","VideoCopyrightRuleActionType","VideoCopyrightRuleGraphFields","VideoCopyrightSegmentSource","VideoCopyrightTrustedPartnerInfoGraphFields","VideoReferenceMatchState","XVideoCopyrightMatchDialogController","asset","fbglyph","joinClasses","parseISODate"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=b("React"),l=b("PageContentTabConstants").TABS,m=20,n=86400,o=3600,p=60,q=1e3,r={GRAPH_API_VERSION:b("VideoCopyrightGraphAPIVersion").graph_api_version,DEFAULT_MONITORING_TYPE:b("VideoCopyrightMonitoringType").VIDEO_ONLY.value,DEFAULT_LIVE_MONITORING_TYPE:b("VideoCopyrightMonitoringType").VIDEO_AND_AUDIO.value,DEFAULT_PUBLISHER_TYPE:b("VideoCopyrightPublisherType").PAGE.value,DEFAULT_RULE_ID:"DEFAULT",formatNumber:function(a){return a>=1e6?Math.round(a/1e6)+"M":a>=1e3?Math.round(a/1e3)+"K":a.toString()},getAudioReleaseGraphAPIFields:function(a){a===void 0;a=["id","album_title","created_time","displayed_artist","ean","upc","grid","isrc","label_name","proprietary_id","parental_warning_type","genre","audio_release_image_uri","original_release_date"];a.push("availability_status");return a},apiToAvailabilityStatus:function(a){return a==null?null:{status:a.status,type:a.type,release:a.release,status_reasons:a.status_reasons}},apiToAssetAvailabilityStatus:function(a){if(a==null)return null;var b={};for(var c=0;c<a.length;c++){var d,e,f=a[c];e=(e=f)!=null?(e=e.value)!=null?e.asset_availability:e:e;d=(d=f)!=null?(d=d.value)!=null?d.availability_by_geo:d:d;var g={};for(var h=0;d!=null&&h<d.length;h++){var i,j=d[h];g[j.key]={status:(i=j)!=null?(i=i.value)!=null?i.status:i:i,type:(i=j)!=null?(i=i.value)!=null?i.type:i:i,release:(i=j)!=null?(i=i.value)!=null?i.release:i:i,status_reasons:(i=j)!=null?(i=i.value)!=null?i.status_reasons:i:i}}b[f.key]={asset_availability:e,availability_by_geo:g}}return b},getAvailableActionsForRMVersion:function(a){switch(a){case"MUSIC_PUBLISHER":case"MUSIC_LABEL":return[b("VideoCopyrightRuleActionType").MANUAL_REVIEW,b("VideoCopyrightRuleActionType").TRACK,b("VideoCopyrightRuleActionType").BLOCK];case"DEFAULT":return[b("VideoCopyrightRuleActionType").MANUAL_REVIEW,b("VideoCopyrightRuleActionType").TRACK,b("VideoCopyrightRuleActionType").BLOCK,b("VideoCopyrightRuleActionType").MONETIZE,b("VideoCopyrightRuleActionType").TAKEDOWN];case"LITE":return[b("VideoCopyrightRuleActionType").TRACK,b("VideoCopyrightRuleActionType").BLOCK,b("VideoCopyrightRuleActionType").TAKEDOWN];default:return[]}},getCopyrightAttributionGraphAPIFields:function(){return["id","title","creator","copyright_count","link_title","match_count","attribution_type","attribution_target_id","status","is_enabled","attribution_uri","creation_time","attribution_target_name"]},getGraphAPIFields:function(a){var c;c=["match_status","active_match_data_id","matched_video_asset","expiration_days",(c=b("GraphAPIFieldUtils")).getFieldWithSubfields("last_modified_user",["name"]),"last_modified_time","added_to_dashboard_time","is_viewed","notes","audit_log","applied_actions","sibling_applied_actions","action_requiring_manual_review","review_report_id",c.getFieldWithSubfields("match_data",["id","excluded_ownership_segments","video_copyright_id","video_matched_segments","audio_matched_segments","total_match_duration",c.getFieldWithSubfields("reference_asset",["content_type","download_hd_url","duration_in_sec","id","live_status","metadata","published_time","thumbnail_url","thumbnail_url_while_encoding","title","universal_content_id","iswc","writer_names","display_artist","copyright_creation_time","sub_title"]),"monitoring_type","match_rule","is_manual_match","applied_actions",c.getFieldWithSubfields("music_work_associated_audio_asset",["id","display_artist","download_hd_url","title","subtitle",c.getFieldWithSubfields("audio_isrc",["isrc"])])]),"is_anonymous","muted_segments_from_other_publishers","dispute","publisher_can_restore","matched_video_overlap_duration_in_sec","available_ui_actions"];a.copyright_geo_actions_enabled&&c.push("ownership_countries");a.show_attributions_tab&&c.push(b("GraphAPIFieldUtils").getFieldWithSubfields("attribution",["title"]));(a.can_see_trusted_partner_match||a.can_see_flagged_entity_match)&&c.push(b("GraphAPIFieldUtils").getFieldWithSubfields("trusted_partner_info",Object.values(b("VideoCopyrightTrustedPartnerInfoGraphFields")).map(function(a){return String(a)})));a.can_see_is_business_page_match&&c.push("is_business_page_match");return c},getDefaultMatchRule:function(){var a={};a[b("VideoCopyrightRuleGraphFields").ID]=this.DEFAULT_RULE_ID;return a},getMatchGraphFields:function(){var a;return[(a=b("VideoCopyrightRuleGraphFields")).ID,a.NAME,a.CONDITION_GROUPS,a.CREATED_DATE,a.CREATOR,a.COPYRIGHTS_COUNT,a.MATCHES_COUNT,a.IS_IN_MIGRATION,a.IS_NEW_VERSION_RULE]},getFBPopularVideoSearchGraphFields:function(){return["id","created_time","title","description","thumbnails","post_views","from","length"]},getIGPopularVideoSearchGraphFields:function(){return["id","timestamp","caption","source","permalink","thumbnail_url","like_count","comments_count"]},getReferenceMatchGraphFields:function(){return["reference_asset","reference_owner_name","reference_owner_id","reference_copyright","matched_reference_asset","matched_reference_owner_id","matched_reference_owner_name","matched_reference_copyright",b("GraphAPIFieldUtils").getFieldWithSubfields("match_data",["id","excluded_ownership_segments","video_copyright_id","video_matched_segments","audio_matched_segments","original_video_matched_segments","original_audio_matched_segments","total_match_duration","reference_asset","monitoring_type","match_rule","is_manual_match","applied_actions"]),"conflicting_countries","match_state","creation_time","expiration_time","modification_history","dispute_form_data","rejection_form_data","is_viewed","is_disputable","is_possible_conflict"]},getReferenceFileGraphFields:function(a){a=["id","reference_owner_id","monitoring_type",b("GraphAPIFieldUtils").getFieldWithSubfields("attribution",["id","title","is_enabled","attribution_type","attribution_target_id","attribution_target_name"]),"ops_override_monitoring_type","reference_file_disabled_by_ops","reference_file_disabled","displayed_matches_count","displayed_fb_matches_count","displayed_ig_matches_count","copyright_content_id","rule_ids","whitelisted_ids","ownership_countries","monitoring_status","creator","in_conflict",b("GraphAPIFieldUtils").getFieldWithSubfields("reference_file",Object.values(b("CopyrightReferenceFileGraphFields")).map(function(a){return String(a)})),"reference_file_insights_key_id","content_category","excluded_ownership_segments"];return a},getSoundRecordingGraphFields:function(){return["id","isrc","creation_time","displayed_matches_count","reference_file_status","ridge_monitoring_status",b("GraphAPIFieldUtils").getFieldWithSubfields("audio_asset",["title","subtitle","display_artist","duration_in_ms"])]},getMusicWorkGraphFields:function(){return["id","creation_time","status",b("GraphAPIFieldUtils").getFieldWithSubfields("music_work",["id","custom_id","iswc","title"])]},getMusicVideoGraphFields:function(){return["id","isrc","creation_time","displayed_matches_count","reference_file_status","ridge_monitoring_status",b("GraphAPIFieldUtils").getFieldWithSubfields("video_asset",["title","thumbnail_url","duration_in_sec"])]},getDeletedVideoAsset:function(){var a={};a.title=i._("Deleted");a.published_time=0;a.thumbnail_url="";a.duration_in_sec=0;a.description="";a.owner_name="";a.view_count=0;a.is_private=!1;return a},_getTabFromMatchStatus:function(a,c){switch(a){case b("VideoCopyrightMatchStatus").REMOVED:return l.TAKEDOWNS;case b("VideoCopyrightMatchStatus").REPORTED:return b("PageContentTabRightsManagerStore").getIsRMLite()?l.TAKEDOWNS:l.REPORTED;case b("VideoCopyrightMatchStatus").ALLOWED:return l.TRACKED;case b("VideoCopyrightMatchStatus").ADDED_MATCH:return l.UNSENT_REPORTS;case b("VideoCopyrightMatchStatus").BLOCKED:return l.BLOCKED;case b("VideoCopyrightMatchStatus").CLAIMED:return l.CLAIMED;case b("VideoCopyrightMatchStatus").MONITORED:return l.TRACKED;default:return l.MANUAL_REVIEW}},logDataError:function(a,c,d){d=r._getTabFromMatchStatus(a.match_status,d);b("PageContentTabLogger").log("data_error",d,{error:JSON.stringify(c),post_id:a.id})},logAPIError:function(a,c,d,e){a=r._getTabFromMatchStatus(a,e);b("PageContentTabLogger").log("api_error",a,{error:c+" : "+JSON.stringify(d)})},isMajorityUnseen:function(a){var b=0;a.forEach(function(a){a.is_viewed?b+=1:b-=1});return b<0},getMatchedOwnerFilter:function(a){var c=new(b("AdsGenericFilterField"))("static_matched_owner_id",b("AdsGenericFilterFieldType").STRING_SET);a=a.matched_video_asset;a=a.owner_name;a.length>m&&(a=a.substring(0,m));return new(b("AdsGenericFilterSet"))([new(b("AdsGenericFilter"))(c,"CONTAIN",a)])},getActiveMatchDataFromMatch:function(a){var b=a.match_data,c=a.active_match_data_id;a=b.filter(function(a){return c==a.id});if(a.length===1)return a[0];else return b[0]},getReferenceVideoFilter:function(a){a=this.getActiveMatchDataFromMatch(a);var c=new(b("AdsGenericFilterField"))("static_reference_video_id",b("AdsGenericFilterFieldType").STRING_SET);a=a.reference_asset;return new(b("AdsGenericFilterSet"))([new(b("AdsGenericFilter"))(c,"EQUAL",a.id)])},getCopyrightInUnixDateFormat:function(a,c){a=a;var d=a.reference_file,e=d.published_time;e=b("parseISODate")(e);d.published_time=e.getTime()/1e3;e=d.live_status===0;var f=d.encoding_status;f=f&&f.video_status==="processing";c&&e&&f&&(d.live_status=1);return a},openMatchComparisonDialog:function(a,c){a=b("ActorURI").create(b("XVideoCopyrightMatchDialogController").getURIBuilder().setInt("id",a).setEnum("source","dashboard").getURI(),c);b("AsyncDialog").send(new(b("AsyncRequest"))(a))},sortableColumnToField:function(a,c){var d=this.getActiveMatchDataFromMatch(c);switch(a){case b("PageContentTabConstants").COLUMNS.VIDEO_VIEWS:return c.matched_video_asset.view_count;case b("PageContentTabConstants").COLUMNS.OVERLAP:return d.total_match_duration;case b("PageContentTabConstants").COLUMNS.EXPIRES_DAYS:case b("PageContentTabConstants").COLUMNS.DISPUTE_EXPIRES_DAYS:return c.expiration_days;case b("PageContentTabConstants").COLUMNS.REFERENCE_VIDEO:return d.reference_asset.title;case b("PageContentTabConstants").COLUMNS.LAST_MODIFIED_BY:return c.last_modified_time;case b("PageContentTabConstants").COLUMNS.DATE_FOUND:return c.added_to_dashboard_time}j(0,3678)},convertGraphAPIAssetToVideoCopyrightVideoMetadata:function(a){if(!a)return null;var b=a.ad_break_offsets_in_ms;return{id:a.id,title:a.title,durationInSec:a.duration_in_sec,width:a.width,height:a.height,permalinkURL:a.permalink_url,thumbnailSrc:a.thumbnail_url,ownerPictureSrc:a.owner_picture_url,ownerPublicName:a.owner_name||"",ownerProfileURL:a.owner_url,publishedTime:a.published_time,isPrivate:a.is_private,description:a.description,viewsCount:a.view_count,commentsCount:a.comment_count,sharesCount:a.share_count,followersCount:a.followers_count,likesCount:a.like_count,liveStatus:a.live_status,privacyExplanation:a.privacy_explanation,adBreakOffsets:b,containsAdBreaks:b&&b.length>0,monetizingOwnerCount:a.monetizing_owner_count,platform:a.platform,isStory:a.is_story,storyExpirationHours:a.story_expiration_hours,videoId:a.video_id,referenceMatchAssetType:"VIDEO"}},getDefaultReferenceFileType:function(){return{id:"",title:"",durationInSec:0,thumbnailSrc:"",liveStatus:2,contentType:"video",metadata:{},universalContentID:"",publishedTime:0}},convertGraphAPIAssetToReferenceFileMetadata:function(a){return!a?this.getDefaultReferenceFileType():{id:a.id,title:a.title,downloadHdUrl:a.download_hd_url,durationInSec:a.duration_in_sec,thumbnailSrc:a.thumbnail_url,liveStatus:a.live_status,contentType:a.content_type,metadata:a.metadata,publishedTime:a.published_time,universalContentID:a.universal_content_id,iswc:a.iswc,writer_names:a.writer_names,copyrightCreationTime:a.copyright_creation_time,subTitle:a.sub_title,referenceMatchAssetType:"VIDEO"}},convertGraphAPIAuditLogToVideoMetadata:function(a){var b=[];a.forEach(function(a){b.push({userName:a.user_name,timestamp:a.timestamp,matchState:a.match_state,reason:a.reason,appliedActions:a.applied_actions||[]})});return b},convertGraphAPIDisputeToMetadata:function(a){return{id:a.id,disputeType:a.dispute_type,status:a.status,expirationTime:a.expiration_time,timeCreated:a.time_created,timeAppealed:a.time_appealed,timeUpdated:a.time_updated,disputeFormData:a.dispute_form_data,appealFormData:a.appeal_form_data,vertical:"video"}},convertGraphAPIMatchToVideoCopyrightMatch:function(a){var b=a.matched_video_asset,c=a.last_modified_user,d=a.audit_log,e=a.dispute,f=a.muted_segments_from_other_publishers;return{attribution:a.attribution,matchID:a.id,is_viewed:a.is_viewed,status:a.match_status,expirationInDays:a.expiration_days,matchedVideoAsset:b?this.convertGraphAPIAssetToVideoCopyrightVideoMetadata(b):null,lastModifiedUserName:c?c.name:" ",lastModifiedTime:a.last_modified_time,auditLog:d?this.convertGraphAPIAuditLogToVideoMetadata(d):null,notes:a.notes,appliedActions:a.applied_actions||[],siblingAppliedActions:a.sibling_applied_actions||[],dispute:e?this.convertGraphAPIDisputeToMetadata(e):null,actionRequiringManualReview:a.action_requiring_manual_review,matchData:this.convertGraphAPIMatchDataToMetadata(a),addedToDashboardTime:a.added_to_dashboard_time,reviewReportID:a.review_report_id,ownershipCountries:a.ownership_countries,isAnonymous:a.is_anonymous,matchedAssetPlatform:b?b.platform:"FB",mutedSegmentsFromOtherPublishers:this.convertGraphAPIMutedSegmentsFromOtherPublishers(f),trustedPartnerInfo:a.trusted_partner_info,isBusinessPageMatch:a.is_business_page_match,publisherCanRestore:a.publisher_can_restore,matchedVideoOverlapDurationInSec:a.matched_video_overlap_duration_in_sec}},convertGraphAPIMutedSegmentsFromOtherPublishers:function(a){var b=[];if(!a)return b;a.forEach(function(a){var c=a.publisher_name,d=a.start_time_in_sec,e=a.duration_in_sec;a=a.segment_source;b.push({publisherName:c,startTimeInSec:d,durationInSec:e,segmentSource:a})});return b},convertGraphAPIReferenceHistoryToMetadata:function(a){var b=[];if(!a)return b;a.forEach(function(a){b.push({timestamp:a.timestamp,matchState:a.match_state})});return b},convertGraphAPIMatchToVideoReferenceMatch:function(a,b){b=b==a.matched_reference_owner_id;var c=b?a.matched_reference_copyright:a.reference_copyright;return{id:a.id,history:this.convertGraphAPIReferenceHistoryToMetadata(a.modification_history),matchState:a.match_state,matchData:this.convertGraphAPIMatchDataToMetadataImpl(a.match_data),matchedAsset:a.matched_reference_asset?this.convertGraphAPIAssetToReferenceFileMetadata(a.matched_reference_asset):null,referenceAsset:a.reference_asset?this.convertGraphAPIAssetToReferenceFileMetadata(a.reference_asset):null,matchedReferenceOwnerID:a.matched_reference_owner_id,matchedReferenceOwnerName:a.matched_reference_owner_name,referenceOwnerID:a.reference_owner_id,referenceOwnerName:a.reference_owner_name,conflictingCountries:a.conflicting_countries,ownershipCountries:c?c.ownership_countries:null,disputeFormData:JSON.parse(a.dispute_form_data),rejectionFormData:JSON.parse(a.rejection_form_data),expirationTime:a.expiration_time,isDisputable:a.is_disputable,isMatchedOwner:b,isPossibleConflict:a.is_possible_conflict,matchedReferenceCopyrightID:(c=a)!=null?(c=c.matched_reference_copyright)!=null?c.id:c:c,referenceCopyrightID:(b=a)!=null?(b=b.matched_reference_copyright)!=null?b.id:b:b}},convertGraphAPIMatchDataToMetadata:function(a){var b=a.match_data,c=[];b&&b.length&&b.forEach(function(b){var d=r.convertGraphAPIMatchDataToMetadataImpl(b);b.id.toString()===a.active_match_data_id?c.unshift(d):c.push(d)});return c},convertMatchedSegmentsToCopyrightSegments:function(a,c,d){a=a[c?d?"original_video_matched_segments":"video_matched_segments":d?"original_audio_matched_segments":"audio_matched_segments"]||[];c=a.map(function(a){return{referenceStartTimeInSec:a.reference_start_time_in_sec,matchedStartTimeInSec:a.matched_start_time_in_sec,durationInSec:a.duration_in_sec,refDurationInSec:a.ref_duration_in_sec,errorType:a.error_type,mediaType:a.media_type,segmentSource:a.segment_source||b("VideoCopyrightSegmentSource").RIDGE_MATCHES,included:!0}});return c},convertExcludedSegmentsToCopyrightSegments:function(a){a=a.map(function(a){return{referenceStartTimeInSec:a.start_time_in_sec,matchedStartTimeInSec:a.start_time_in_sec,durationInSec:a.duration_in_sec,refDurationInSec:a.duration_in_sec,mediaType:a.media_type,included:!!a.included,segmentSource:b("VideoCopyrightSegmentSource").PUBLISHER_DEFINED}});return a},convertCopyrightSegmentsToExcludedSegments:function(a){var c=[];a.forEach(function(a){if(a.segmentSource!==b("VideoCopyrightSegmentSource").PUBLISHER_DEFINED)return;a={start_time_in_sec:a.referenceStartTimeInSec,duration_in_sec:a.durationInSec,media_type:a.mediaType,segment_source:a.segmentSource,included:!!a.included};c.push(a)});return c},convertGraphAPIMatchDataToMetadataImpl:function(a){var b=a.excluded_ownership_segments||[];return{id:a.id,excludedSegments:this.convertExcludedSegmentsToCopyrightSegments(b),monitoringType:a.monitoring_type,appliedActions:a.applied_actions,matchRule:a.match_rule,matchedDurationInSec:a.total_match_duration,videoSegments:this.convertMatchedSegmentsToCopyrightSegments(a,!0,!1),audioSegments:this.convertMatchedSegmentsToCopyrightSegments(a,!1,!1),originalVideoSegments:this.convertMatchedSegmentsToCopyrightSegments(a,!0,!0),originalAudioSegments:this.convertMatchedSegmentsToCopyrightSegments(a,!1,!0),referenceAsset:this.convertGraphAPIAssetToReferenceFileMetadata(a.reference_asset),isManualMatch:a.is_manual_match,videoCopyrightID:a.video_copyright_id,musicWorkAssociatedAudioAsset:a.music_work_associated_audio_asset,assetType:"VIDEO"}},getExpirationLabelFromExpirationTime:function(a){var b,c;a=a-Date.now()/q;a<o?(b=Math.ceil(a/p),c=b===1?"minute":"minutes"):a<n?(b=Math.ceil(a/o),c=b===1?"hour":"hours"):(b=Math.ceil(a/n),c=b===1?"day":"days");if(b<0)return null;else return i._({"*":{"day":"{time before expiration} day","days":"{time before expiration} days","hour":"{time before expiration} hour","hours":"{time before expiration} hours","minute":"{time before expiration} minute","minutes":"{time before expiration} minutes"}},[i._param("time before expiration",b,[0]),i._enum(c,{day:"day",days:"days",hour:"hour",hours:"hours",minute:"minute",minutes:"minutes"})])},getIsReferenceMatchStateActionable:function(a,c){return c===b("VideoReferenceMatchState").CONFLICT||c===b("VideoReferenceMatchState").DISPUTED||c===b("VideoReferenceMatchState").POSSIBLE_CONFLICT||a&&c===b("VideoReferenceMatchState").DISPUTE_REJECTED},getIsPassiveReferenceResolution:function(a,c){if(a)return c===b("VideoReferenceMatchState").CONFLICT_EXPIRED||c===b("VideoReferenceMatchState").DISPUTE_REJECTED;else return c===b("VideoReferenceMatchState").DISPUTE_EXPIRED},getAppliedActionLabel:function(a){a=a.map(function(a){return a.action});var c=a.indexOf(b("VideoCopyrightRuleActionType").BLOCK)!==-1;if(c)return b("RightsManagerFbt").BLOCKED;c=a.indexOf(b("VideoCopyrightRuleActionType").MONETIZE)!==-1;if(c)return i._("Claim ad earnings");c=a.indexOf(b("VideoCopyrightRuleActionType").TRACK)!==-1;return c?b("RightsManagerFbt").MONITORED:b("RightsManagerFbt").CLAIMED},getActionRequiringManualReviewLabel:function(a){switch(a){case b("VideoCopyrightRuleActionType").BLOCK:return i._("Block not applied");case b("VideoCopyrightRuleActionType").MONETIZE:return i._("Claim ad earnings not applied");default:return i._("Manually review")}},getReferenceMatchStateLabel:function(a,c){switch(a){case b("VideoReferenceMatchState").CONFLICT:case b("VideoReferenceMatchState").POSSIBLE_CONFLICT:return i._("Conflict detected");case b("VideoReferenceMatchState").OWNERSHIP_ASSERTED:return i._("Ownership asserted");case b("VideoReferenceMatchState").DISPUTED:return c?i._("Dispute submitted"):i._("Ownership disputed");case b("VideoReferenceMatchState").DISPUTE_ACCEPTED:return c?i._("Dispute accepted"):i._("Dispute accepted by you");case b("VideoReferenceMatchState").DISPUTE_REJECTED:return c?i._("Dispute rejected"):i._("Dispute rejected by you");case b("VideoReferenceMatchState").CONFLICT_RESOLVED:return i._("Conflict resolved");case b("VideoReferenceMatchState").CONFLICT_EXPIRED:return i._("Conflict expired");case b("VideoReferenceMatchState").DISPUTE_EXPIRED:return c?i._("Dispute accepted"):i._("Dispute expired");default:return i._("Unknown")}},getShouldShowReferenceMatchExpirationTime:function(a,c){return c?a===b("VideoReferenceMatchState").CONFLICT||a===b("VideoReferenceMatchState").POSSIBLE_CONFLICT:a===b("VideoReferenceMatchState").DISPUTED},getReferenceMatchExpirationTooltip:function(a,c,d,e){if(c){if(a===b("VideoReferenceMatchState").CONFLICT||a===b("VideoReferenceMatchState").POSSIBLE_CONFLICT)return null}else if(a===b("VideoReferenceMatchState").DISPUTED)return null;return i._("{conflicting publisher} has {time before expiration} to respond to your dispute. You'll be notified when they respond.",[i._param("conflicting publisher",e),i._param("time before expiration",d)])},logToPageContentTabLoggerWithDetails:function(a,c,d){b("PageContentTabLogger").log("action_taken_main_view",d,{page_id:c,action:a})},renderOldVersionRuleIndicator:function(a,c){return c?null:k.jsx(b("Image.react"),{className:b("joinClasses")(a,"_5u-h"),"data-tooltip-content":i._("This match rule needs to be replaced with a new match rule due to recent updates. Assign reference files associated with it to a different or new match rule."),"data-hover":"tooltip","data-tooltip-position":"right",src:g("132175")})},dedupeSegments:function(a,b){var c=0,d=[],e=null;a.sort(function(a,c){a=b?a.referenceStartTimeInSec:a.matchedStartTimeInSec;c=b?c.referenceStartTimeInSec:c.matchedStartTimeInSec;return a>c?1:-1}).forEach(function(a){var f=a.durationInSec,g=b?a.referenceStartTimeInSec:a.matchedStartTimeInSec;f=g+f;if(e&&g<c){e.durationInSec+=Math.max(0,f-c);c=Math.max(c,f);return}g=babelHelpers["extends"]({},a);e=g;d.push(g);c=Math.max(c,f)});return d},convertIGUserNameToIDs:function(a,c){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:if(!(c.length===0)){e.next=2;break}return e.abrupt("return",[]);case 2:e.next=4;return b("regeneratorRuntime").awrap(b("IGUserDataFetcher").gen(c,a));case 4:d=e.sent;return e.abrupt("return",Object.values(d.payload));case 6:case"end":return e.stop()}},null,this)},getMatchedOwnerBadge:function(a,c){if(a)return k.jsx(b("Image.react"),babelHelpers["extends"]({className:"_4gyc",src:g("540419")},b("TooltipData").propsFor(i._("Trusted partner"),"above")));return c?k.jsx(b("Image.react"),babelHelpers["extends"]({className:"_4gyc",src:g("499172")},b("TooltipData").propsFor(i._("This Page identifies as a business"),"above"))):null},getGeoActionReasonName:function(a){switch(a){case"unauthorized_commercial_use":return i._("Unauthorized Commercial Use");case"restricted_content":return i._("Restricted Content");case"objectionable_content":return i._("Objectionable Content");case"artist_objection":return i._("Artist Objection");case"prerelease_content":return i._("Pre-release Content");case"product_parameters":return i._("Product Parameters");case"premium_music_video":return i._("Premium Music Video");default:return null}},getGeoActionReasonTootip:function(a){switch(a){case"unauthorized_commercial_use":return i._("Includes recordings that are not licensed for business use");case"restricted_content":return i._("Includes recordings from restricted artists or restricted writers");case"objectionable_content":return i._("Includes violence, pornography or other objectionable content");case"artist_objection":return i._("Includes content that the artist has a formal objection to");case"prerelease_content":return i._("Includes recordings that have not been officially released");case"product_parameters":return i._("A type of video that isn't included in your license (still image video, DJ mix, streaming service or other restricted format)");case"premium_music_video":return i._("Includes any part of a premium music video");default:return null}},getGeoActionReasonList:function(){return["unauthorized_commercial_use","restricted_content","objectionable_content","artist_objection","prerelease_content","product_parameters","premium_music_video"]},getGeoActionReasonListMMRM:function(a){var b=["unauthorized_commercial_use","restricted_content","objectionable_content","artist_objection","prerelease_content","product_parameters"];a==="MUSIC_LABEL"&&b.push("premium_music_video");return b}};e.exports=r}),null);
__d("CommercialBreakVideoAdOverlay",["cx","Arbiter","CommercialBreakUtil","CSS","DOM","DOMDimensions","Event","InstreamVideoAdsController","SubscriptionsHandler","getFullScreenElement","gkx","setTimeout"],(function(a,b,c,d,e,f,g){var h=300;a=function(){"use strict";function a(a){this.$7=a.root,this.$9=!1,this.$4=null,this.$10=!1,this.$11=!1,this.$12=0,this.$14=!1}var c=a.prototype;c.enable=function(a){var b=this;this.$1=a;this.$6=a.addListener("optionsChange",function(){return b.$15()});this.$15()};c.disable=function(){this.$6.remove()};c.stopAdWithoutTransition=function(){this.$16(),this.$3&&this.$3.reset()};c.$15=function(){var a=this;this.$2=this.$1.getOption("VideoWithInstreamVideo","controller");if(!this.$2)return;this.$3=this.$1.getOption("VideoWithCommercialBreak","controller");if(!this.$3)return;this.$6.remove();this.$8=this.$2.getConfig();this.$1.addListener("commercialBreak/vodBreakStarting",function(){a.$17()});this.$3.addListener("commercialBreak/videoAdStoryFetched",function(c,d,e,f,g){c&&(b("DOM").setContent(a.$7,c),a.$10=!0,a.$11=!d,a.$12=e,a.$2.setCurrentInstreamVideoAdBreakVideoID(f),a.$2.setCurrentInstreamVideoAdBreakClientToken(g))});this.$3.addListener("commercialBreak/stateChange",function(c){c=c.state;switch(c){case"AD_REQUEST_SENT":case"ENTERING_TRANSITION":c=a.$18();!!c.height&&!!c.width&&(a.$13=c);break;case"PLAY_AD":b("CommercialBreakUtil").getNonInterruptiveStoryTypeConfig().has(a.$3.getReceivedAdStoryType())||a.$19();break;case"INIT":a.$20();break;case"LEAVING_TRANSITION":a.$8.isLive&&(a.$21()?(b("CSS").addClass(a.$7,"_7zxn"),b("setTimeout")(function(){return a.$16()},h)):a.$16());break}});this.$3.addListener("commercialBreak/inTransition",function(b){return a.$22(b.shouldShowAd)});this.$1.addListener("commercialBreak/CTAClicked",this.$23.bind(this))};c.$23=function(){this.$14=!0};c.$24=function(a){var b=this,c;a.setLogEntryPropertyGetters((c={},c.host_video_id=this.$8.hostVideoID,c.instream_video_ad_break_index=this.$12,c));a.addListener("stateChange",function(){!b.$4?b.$25():b.$4.isState("finished")&&b.$25()});a.addListener("playRequested",function(a){a==="user_initiated"&&b.$2.logMarauderEvent("commercial_break_play_ad")});a.addListener("pauseRequested",function(a){b.$2.logMarauderEvent("commercial_break_pause_ad",{video_player_reason:a})});this.$2.registerInstreamVideo(a);this.$26();this.$27();this.$28();this.$29()};c.$30=function(){var a=this.$2.getCurrentInstreamVideoAdType();switch(a){case"live":this.$3.getIsDuplicateLiveVideo()?a="duplicate_video":!this.$10?a="wait_for_failed":!this.$11?a="no_video_ad":a="playback_error";this.$2.logMarauderEvent("commercial_break_static_countdown",{commercial_break_no_ad_reason:a});break;case"vod":case"nonlive":a="playback_error";this.$2.logMarauderEvent("commercial_break_start_show_nothing",{commercial_break_no_ad_reason:a});this.$3.reset();break}};c.$25=function(){this.$8.isLive&&!this.$21()&&this.$16(),this.$3.leaveAdBreak()};c.$19=function(){this.$9=!1,this.$17(),this.$4?this.$24(this.$4):this.$30()};c.$17=function(){var a=this;this.$4=b("InstreamVideoAdsController").findVideoControllerForStory(this.$7);this.$4&&!this.$4.hasOption("CommercialBreakVideoAdOverlay","videoController")&&this.$4.registerOption("CommercialBreakVideoAdOverlay","videoController",function(){return a.$1});this.$4&&!this.$4.hasOption("VideoContextMenu","disablePauseMenuItem")&&this.$4.registerOption("VideoContextMenu","disablePauseMenuItem",function(){return a.$8.isLive||!a.$8.canPauseAdBreak})};c.$18=function(){var a=b("DOMDimensions").getElementDimensions(this.$1.getRootNode());this.$1.isFullscreen()&&(a=b("DOMDimensions").getElementDimensions(b("getFullScreenElement")()));return a};c.$26=function(){var a=this.$4;if(!a)return;var b=this.$18();(!b.width||!b.height)&&this.$13&&(b=this.$13);a.setDimensions(b.width,b.height)};c.$27=function(){var a=this.$4;if(!a)return;var b=this.$1.getSource();b&&a.updateSource(b)};c.$28=function(){if(!b("gkx")("678895"))return;var a=this.$4;if(!a)return;var c=this.$1.getSelectedVideoQuality();c&&a.setPreferredVideoQuality(c)};c.$31=function(){this.$2.shouldPlayInstreamAd()&&(b("CSS").removeClass(this.$7,"_50m2"),this.$21()&&(this.$7.style.setProperty("display","flex"),this.$7.style.setProperty("flex-direction","column"),this.$7.style.setProperty("justify-content","center")),(!this.$8.isLive||this.$2.getCurrentInstreamPlacement()==="pre_roll")&&this.$1.emit("commercialBreak/hideUFI"),this.$2.playInstreamAd())};c.$22=function(a){a?(this.$17(),this.$26(),this.$4&&b("CSS").removeClass(this.$7,"_50m2")):this.$16()};c.$29=function(){var a=this;if(this.$9)return;this.$9=!0;this.$5=new(b("SubscriptionsHandler"))();this.$5.addSubscriptions(this.$1.addListener("VideoChannelController/enterChannel",this.$32.bind(this)),b("Arbiter").subscribe("VideoChannelView/closed",this.$32.bind(this)),this.$1.addListener("TahoeController/exitTahoe",this.$32.bind(this)),this.$1.addListener("TahoeController/enterTahoe",this.$32.bind(this)),this.$1.addListener("toggleFullscreen",function(){a.$26(),a.$4&&a.$4.logEvent(a.$4.isFullscreen()?"entered_fs":"exited_fs")}),this.$1.addListener("WatchAndScroll/positionUpdated",this.$26.bind(this)),this.$1.addListener("commercialBreak/scrollAway",function(){a.$4&&a.$4.isState("playing")&&(a.$4.pause("autoplay_initiated"),a.$1.once("commercialBreak/scrollInto",function(){a.$9&&a.$4&&a.$4.isState("paused")&&a.$4.play("autoplay_initiated")}))}),this.$1.addListener("commercialBreak/scrollInto",function(){a.$9&&a.$4&&a.$4.isState("ready")&&a.$31()}),b("Event").listen(window,"focus",this.$33.bind(this)));this.$31()};c.$33=function(){this.$14&&this.$3.endCommercialBreakByCTAClick()};c.$32=function(){this.$26(),this.$27()};c.$16=function(){if(!this.$9)return;this.$4&&this.$4.isState("playing")&&this.$4.pause("autoplay_initiated");this.$20()};c.$20=function(){this.$5&&this.$5.release();this.$9=!1;this.$10=!1;this.$11=!1;this.$12=0;this.$2.setCurrentInstreamVideoAdBreakVideoID(null);this.$14=!1;b("CSS").removeClass(this.$7,"_7zxn");b("CSS").addClass(this.$7,"_50m2");this.$4&&this.$4.destroy();this.$4=null;while(this.$7.children.length>0)b("DOM").remove(this.$7.children[0])};c.$21=function(){var a=this.$1.getOption("CommercialBreakWithSqueezeback","controller");return a&&a.isEligibleForSqueezeback()};return a}();e.exports=a}),null);
__d("InstreamNFXHideType",[],(function(a,b,c,d,e,f){e.exports={HIDE_AD:"HIDE_AD",HIDE_AD_BREAKS:"HIDE_AD_BREAKS"}}),null);
__d("CountdownTimer.react",["fbt","React","prop-types"],(function(a,b,c,d,e,f,g){var h=b("React"),i=1e3,j=3600,k=j*24*i;function l(a){if(a<10)return"0"+a;else return a.toString()}function m(a,b){var c=0;while(c<a.length&&b(a[c]))c+=1;return a.slice(c)}function n(a){a=m(a,function(a){return a===0});if(a.length===0)return"0";else{for(var b=1;b<a.length;b+=1)a[b]=l(a[b]);return a.join(":")}}var o={HUMAN:"human",DIGITAL:"digital"};a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){return Math.max(c.props.endTime-Date.now(),0)},c.$2=function(){var a=c.$1();c.setState({remainingTime:a});a<=0&&(clearInterval(c.interval),c.props.onComplete&&c.props.onComplete())},c.formatTime=function(a,b,d){if(c.props.format==o.DIGITAL)return n([a,b,d]);else if(c.props.format==o.HUMAN)return g._({"*":{"*":{"*":"{hours}h {mins}m {seconds}s"}}},[g._param("hours",a,[0]),g._param("mins",b,[0]),g._param("seconds",d,[0])]);else throw new Error("Unknown format: "+c.props.format)},c.state={remainingTime:c.$1()},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.componentDidMount=function(){this.$2(),this.interval=setInterval(this.$2,i)};c.componentWillUnmount=function(){clearInterval(this.interval)};c.render=function(){var a=this.state.remainingTime;if(a>=k){var b=Math.floor(a/k);return h.jsx("span",{children:b===1?g._("1 day"):g._({"*":"{number} days"},[g._param("number",b,[0])])})}else{b=Math.ceil(a/i);a=Math.floor(b/j);b=new Date(b%j*i);var c=b.getUTCMinutes();b=b.getSeconds();return h.jsx("span",{children:this.formatTime(a,c,b)})}};return b}(h.Component);a.propTypes={endTime:b("prop-types").number.isRequired,format:b("prop-types").oneOf([o.HUMAN,o.DIGITAL]).isRequired,onComplete:b("prop-types").func};e.exports=a}),null);
__d("GamesVideoAdStartedMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2542375465834301"};b.getQueryID=function(){return"328985801280026"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("VideoCommercialBreakTransitionOverlay",["cx","fbt","CenteredContainer.react","CountdownTimer.react","CSS","DOMDimensions","GamesVideoAdStartedMutationWebGraphQLMutation","Image.react","QE2Logger","React","ReactDOM","SubscriptionsHandler","WebGraphQL","XUISpinner.react","XUIText.react","clearTimeout","setTimeout"],(function(a,b,c,d,e,f,g,h){var i=b("React"),j=300,k=300;a=function(){"use strict";function a(a){this.$12=null,this.$13=null,this.$1=a.root,this.$2=a.body,this.$3=a.ownerName,this.$4=a.ownerPictureUri,this.$5=a.interactiveAlertAdStartedConfig,this.$10=new(b("SubscriptionsHandler"))()}var c=a.prototype;c.enable=function(a){var b=this;this.$7=a;this.$8=a.addListener("optionsChange",function(){return b.$14()});this.$14()};c.disable=function(){this.$8.remove()};c.$14=function(){var a=this;this.$6=this.$7.getOption("VideoWithCommercialBreak","controller");if(!this.$6)return;var b=this.$7.getOption("VideoWithInstreamVideo","controller");if(!b)return;this.$9=b.getConfig();this.$8.remove();this.$10.engage();this.$10.addSubscriptions(this.$6.addListener("commercialBreak/stateChange",function(b){var c=b.state,d=b.countdownDurationMsecs;b=b.instreamPlacement;a.$15(c,d,b)}));this.$7.addListener("VideoChannelController/exitChannel",this.$16.bind(this));this.$7.addListener("stateChange",this.$16.bind(this))};c.$15=function(a,b,c){this.$11=a;switch(a){case"PREPARE":this.$17(c);break;case"ENTERING_TRANSITION":this.$18(c);break;case"PLAY_AD":this.$19(b,c);break;case"LEAVING_TRANSITION":this.$20(c);break;case"INIT":this.$21();break}this.$16(c)};c.$22=function(){var a=this.$5;if(!a)return;b("QE2Logger").logExposureForUser(a.interactiveAlertQEName);if(!a.enabled)return;b("WebGraphQL").exec(new(b("GamesVideoAdStartedMutationWebGraphQLMutation"))({input:{video_id:this.$9.hostVideoID.toString()}}))};c.$17=function(a){a==="pre_roll"&&(b("CSS").addClass(this.$2,"_1p58"),b("ReactDOM").render(i.jsx(b("XUISpinner.react"),{className:"_179h",size:"large",background:"dark"}),this.$2));return};c.$18=function(a){this.$22(),this.$9.isLive&&a!=="pre_roll"?(this.$23(h._("will be back soon"),null),this.$7.emit("commercialBreak/hideUFI")):this.$24(a)};c.$24=function(a){var c=this;if(!this.$9.beginningNonLiveTransitionTimeMs)return;this.$25();var d=Math.max(j,this.$9.beginningNonLiveTransitionTimeMs-j);a==="pre_roll"&&b("ReactDOM").render(i.jsx(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!0,vertical:!0,children:i.jsx(b("XUIText.react"),{size:"header3",color:"white",display:"block",children:h._("Video will begin after an ad")})}),this.$2);b("CSS").addClass(this.$2,"_hax");this.$12=b("setTimeout")(function(){b("clearTimeout")(c.$12),c.$6.emit("commercialBreak/inTransition",{shouldShowAd:!0}),b("CSS").addClass(c.$2,"_hay")},d)};c.$20=function(a){this.$9.isLive&&a==="pre_roll"?this.$26():this.$9.isLive?this.$27()?b("ReactDOM").unmountComponentAtNode(this.$2):this.$23(h._("is returning now"),null):this.$28()};c.$26=function(){var a=this;if(!this.$9.endingNonLiveTransitionTimeMs)return;this.$25();b("CSS").addClass(this.$2,"_6h7-");this.$13=b("setTimeout")(function(){b("clearTimeout")(a.$13),a.$6.emit("commercialBreak/inTransition",{shouldShowAd:!1}),b("CSS").addClass(a.$2,"_hay")},k)};c.$28=function(){var a=this;if(!this.$9.endingNonLiveTransitionTimeMs)return;this.$25();b("CSS").addClass(this.$2,"_hax");this.$13=b("setTimeout")(function(){b("clearTimeout")(a.$13),a.$6.emit("commercialBreak/inTransition",{shouldShowAd:!1}),b("CSS").addClass(a.$2,"_hay")},k)};c.$25=function(){var a;(a=b("CSS")).removeClass(this.$2,"_hax");a.removeClass(this.$2,"_6h7-");a.removeClass(this.$2,"_hay");a.removeClass(this.$2,"_1p58");b("ReactDOM").unmountComponentAtNode(this.$2)};c.$19=function(a,c){this.$9.isLive&&c!=="pre_roll"&&(a?this.$23(h._("will return in"),a):this.$23(h._("will be back soon"),null)),c==="pre_roll"&&b("ReactDOM").unmountComponentAtNode(this.$2)};c.$23=function(a,c,d){var e=this;b("ReactDOM").unmountComponentAtNode(this.$2);d=null;c&&(d=i.jsx("div",{className:"_4fih",children:i.jsx(b("CountdownTimer.react"),{endTime:Date.now()+c,format:"digital"})}));c=i.jsxs("div",{className:"_3y74",children:[i.jsx("div",{className:"_2s3m",children:this.$3}),i.jsx(b("Image.react"),{src:this.$4,width:56,className:"_2s3l"}),i.jsxs("div",{children:[i.jsx("div",{className:"_4fid",children:a}),d]})]});a=this.$29();d=a?a.videoHeight/a.videoWidth*b("DOMDimensions").getElementDimensions(a).width:0;a=this.$27()?i.jsxs("div",{style:{height:d+"px",overflow:"hidden"},children:[i.jsx(b("Image.react"),{src:this.$4,className:"_7zyc"}),c]}):i.jsx(i.Fragment,{children:c});this.$27()&&(b("CSS").addClass(this.$2,"_7-4w"),b("CSS").addClass(this.$2,"_7zyd"),this.$12=b("setTimeout")(function(){b("clearTimeout")(e.$12),b("CSS").addClass(e.$2,"_7zxn")},this.$9.beginningTransitionTimeMs-j));b("ReactDOM").render(a,this.$2)};c.$21=function(){b("ReactDOM").unmountComponentAtNode(this.$2),this.$7.emit("commercialBreak/showUFI"),b("clearTimeout")(this.$12),b("clearTimeout")(this.$13)};c.$29=function(){return this.$7?this.$7.getVideoNodeNullable():null};c.$30=function(){var a=this.$29();if(a){var c;(c=b("CSS")).removeClass(a,"_1_d3");c.removeClass(this.$1,"_2s3i");c.removeClass(this.$1,"_bvi");c.removeClass(this.$2,"_3j0w");c.removeClass(this.$2,"_7zxn")}b("CSS").addClass(this.$1,"_4fii")};c.$31=function(a){var c=this.$29();this.$9.isLive&&a!=="pre_roll"&&c?(b("CSS").addClass(this.$1,"_2s3i"),this.$27()||b("CSS").addClass(c,"_1_d3")):(b("CSS").addClass(this.$2,"_3j0w"),b("CSS").addClass(this.$1,"_bvi"));b("CSS").removeClass(this.$1,"_4fii")};c.$16=function(a){switch(this.$11){case"PREPARE":a==="pre_roll"&&this.$31(a);break;case"ENTERING_TRANSITION":case"LEAVING_TRANSITION":this.$31(a);break;case"PLAY_AD":this.$9.isLive&&a!=="pre_roll"?this.$31(a):this.$30();break;case"AD_REQUEST_SENT":break;default:this.$30()}};c.$27=function(){var a=this.$7.getOption("CommercialBreakWithSqueezeback","controller");return a&&a.isEligibleForSqueezeback()};return a}();e.exports=a}),null);
__d("XInstreamVideoDemoStoryAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/instream_demo/view/story/async/",{instream_video_type:{type:"Enum",required:!0,enumType:1},instream_video_break_index:{type:"Int",required:!0},show_short_ad:{type:"Bool",defaultValue:!1},instream_placement:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XInstreamVideoSponsoredStoryAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/instream_video/view/story/async/",{host_video_id:{type:"FBID",required:!0},instream_video_type:{type:"Enum",required:!0,enumType:1},instream_video_break_index:{type:"Int",required:!0},player_origin:{type:"String"},player_sub_origin:{type:"String"},script_path:{type:"String"},video_channel_caller:{type:"Enum",enumType:1},is_sponsored_host_video:{type:"Bool",defaultValue:!1},referrer:{type:"String"},option_menu_button_id:{type:"String"},host_video_stall_count:{type:"Int"},ad_break_duration_ms:{type:"Int"},player_format:{type:"String"},instream_placement:{type:"Enum",required:!0,enumType:1},story_identifier:{type:"String"},window_href:{type:"String"},ad_trigger_source:{type:"Enum",enumType:1},client_live_video_timestamp:{type:"Int"}})}),null);
__d("isVideoAutoplayAllowed",[],(function(a,b,c,d,e,f){"use strict";var g=new Blob([],{type:"video/mp4"});function a(a){var b=document.createElement("video"),c=URL.createObjectURL(g);b.src=c;var d=function(){b.removeAttribute("src"),URL.revokeObjectURL(c)},e=b.play();e!==void 0?e.then(function(){return a(!0)})["catch"](function(b){b.name==="NotAllowedError"?a(!1):a(!0)})["finally"](function(){return d()}):(d(),a(!0))}e.exports=a}),null);
__d("VideoWithCommercialBreak",["cx","invariant","Arbiter","AsyncRequest","BanzaiODS","Base64","CommercialBreakExperiments","CommercialBreakHostStoryComponentType","CommercialBreakUtil","CSS","DataStore","DateConsts","DOM","DOMQuery","EntstreamFeedObjectFollowup","EventEmitter","InstreamNFXHideType","QE2Logger","ScriptPath","StoryComponentVideoPlayerControllerRegistry","SubscriptionsHandler","ViewportTrackingHelper","Visibility","XInstreamVideoDemoStoryAsyncController","XInstreamVideoSponsoredStoryAsyncController","ghlTestUBT","gkx","isVideoAutoplayAllowed","setTimeout","uniqueID"],(function(a,b,c,d,e,f,g,h){var i=Object.freeze({SHORT_AD_COUNTDOWN_MS:3e3}),j=Object.freeze({NONE:"none",PLAYBACK_FINISHED:"playback_finished",CUT_OFF:"cut_off",HIDE_AD:"hide_ad",HIDE_AD_BREAKS:"hide_ad_breaks",CALL_TO_ACTION_BUTTON_CLICKS:"call_to_action_button_clicks"}),k=Object.freeze({NORMAL:"normal",STALL_STREAM:"stall_stream",STREAM_DRY_OUT:"stream_dry_out"});a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$VideoWithCommercialBreak8="INIT";d.$VideoWithCommercialBreak13=new(b("SubscriptionsHandler"))();d.$VideoWithCommercialBreak14=null;d.$VideoWithCommercialBreak21=!1;d.$VideoWithCommercialBreak24=0;d.$VideoWithCommercialBreak20=null;d.$VideoWithCommercialBreak28=b("uniqueID")();d.$VideoWithCommercialBreak30=-1;d.$VideoWithCommercialBreak18=!1;d.$VideoWithCommercialBreak38=c.nonInterruptiveAdConfig;d.$VideoWithCommercialBreak32=c.preRollAdBreak;d.$VideoWithCommercialBreak33=c.preRollConfig;d.$VideoWithCommercialBreak34=null;d.$VideoWithCommercialBreak41={NISourceState:null,isNICollapse:!1,isEnable:!1,isNIPreloadedAndHide:!1,isNIRemovedDuringPreloaded:!1,NIhidedInWNS:!1};d.$VideoWithCommercialBreak33&&d.$VideoWithCommercialBreak33.preRollEnabled&&(d.$VideoWithCommercialBreak34="init");b("ghlTestUBT")(function(a){d.$VideoWithCommercialBreak23=a});return d}var d=c.prototype;d.enable=function(a){var c=this;this.$VideoWithCommercialBreak1=a;this.$VideoWithCommercialBreak43=a.getRootNode();this.$VideoWithCommercialBreak2=a.addListener("optionsChange",function(){return c.$VideoWithCommercialBreak44()});this.$VideoWithCommercialBreak35=b("Arbiter").subscribe("commercialBreak/start",this.$VideoWithCommercialBreak45.bind(this));this.$VideoWithCommercialBreak36=b("Arbiter").subscribe("RHCVideoWNSController/closeEnd",this.$VideoWithCommercialBreak46.bind(this));this.$VideoWithCommercialBreak44();this.$VideoWithCommercialBreak5=a.addListener("TahoeController/enterTahoe",this.$VideoWithCommercialBreak47.bind(this));this.$VideoWithCommercialBreak6=a.addListener("TahoeController/exitTahoe",this.$VideoWithCommercialBreak48.bind(this))};d.disable=function(){this.$VideoWithCommercialBreak2.remove(),this.$VideoWithCommercialBreak5!=null&&this.$VideoWithCommercialBreak5.remove(),this.$VideoWithCommercialBreak6!=null&&this.$VideoWithCommercialBreak6.remove(),this.$VideoWithCommercialBreak3!=null&&this.$VideoWithCommercialBreak3.remove(),this.$VideoWithCommercialBreak1.unregisterOption("VideoWithCommercialBreak","enabled"),this.$VideoWithCommercialBreak1.unregisterOption("VideoWithCommercialBreak","controller"),this.$VideoWithCommercialBreak1.unregisterOption("VideoWithCommercialBreak","isInstreamPausedByNFX"),this.$VideoWithCommercialBreak35&&this.$VideoWithCommercialBreak35.unsubscribe(),this.$VideoWithCommercialBreak36&&this.$VideoWithCommercialBreak36.unsubscribe(),this.$VideoWithCommercialBreak34=null};d.shouldPlayPreRollAds=function(a){if(!(a==="user_initiated"||this.$VideoWithCommercialBreak49()))return!1;a=this.$VideoWithCommercialBreak33;if(!a)return!1;if(!this.$VideoWithCommercialBreak32)return!1;if(this.$VideoWithCommercialBreak7.shouldShowDemoAd&&this.$VideoWithCommercialBreak7.instreamPlacement=="pre_roll")return this.$VideoWithCommercialBreak34=="init";if(!this.$VideoWithCommercialBreak50())return!1;b("QE2Logger").logExposureForUser(a.preRollQEName);if(!this.$VideoWithCommercialBreak34)return!1;if(this.$VideoWithCommercialBreak34!="init")return!1;var c=this.$VideoWithCommercialBreak1,d=c.getPlayerOrigin(),e=b("CommercialBreakUtil").getVideoPlayerSubOrigin(c);c=c.getUpstreamPlayerSource();var f=a.videoHomeWatchlistEnabled&&d==="video_home"&&e==="watchlist";c=a.serpEnabled&&d==="video_home"&&e==="entry_point"&&c==="search";var g=a.serpEnabled&&d==="search",h=a.pageTabHomeEnabled&&d==="page_timeline"&&e==="page_tab_home",i=a.pageTabEpisodeEnabled&&d==="page_timeline"&&e==="page_tab_episodes",j=a.gamingStreamerHubEnabled&&d==="games_video_hub"&&e==="gaming_video_destination_streamer_hub",k=a.permalinkTahoeEnabled&&d==="permalink"&&e==="tahoe";d=a.notificationsTahoeEnabled&&d==="notifications"&&e==="tahoe";if(f||c||g||h||i||j||k||d){if(b("gkx")("678897"))return!0;e=this.$VideoWithCommercialBreak7.startTimestampSec*b("DateConsts").MS_PER_SEC;f=this.$VideoWithCommercialBreak7.videoPlayableDurationInMs;if(e&&f){c=f-e;if(e>a.maxVideoPlaybackTimeMs){this.$VideoWithCommercialBreak12.logMarauderEvent("commercial_break_pre_roll_blocked_by_resume_time",{video_resume_time_in_ms:e,video_play_time_left_in_ms:c});return!1}else if(c>a.minVideoTimeLeftMs){this.$VideoWithCommercialBreak12.logMarauderEvent("commercial_break_pre_roll_blocked_by_remaining_time",{video_resume_time_in_ms:e,video_play_time_left_in_ms:c});return!1}}return!0}return!1};d.schedulePreRollAds=function(){var a=this.$VideoWithCommercialBreak32;a||h(0,5654);this.onIntentCommand(a.getIndex(),a.getInstreamPlacement(),a.getAdBreakDurationInMs())};d.$VideoWithCommercialBreak51=function(){var a=this.$VideoWithCommercialBreak1,c=a.getPlayerOrigin();a=b("CommercialBreakUtil").getVideoPlayerSubOrigin(a);if(c==="games_video_hub"&&a==="gaming_video_destination_streamer_hub"||c==="permalink"&&a==="tahoe")return!0;else return!1};d.$VideoWithCommercialBreak50=function(){var a=this.$VideoWithCommercialBreak1,c=a.getPlayerOrigin(),d=b("CommercialBreakUtil").getVideoPlayerSubOrigin(a);a=a.getUpstreamPlayerSource();return c==="video_home"&&d==="watchlist"||c==="video_home"&&d==="entry_point"&&a==="search"||c==="page_timeline"&&d==="page_tab_home"||c==="page_timeline"&&d==="page_tab_episodes"||c==="search"||c==="games_video_hub"&&d==="gaming_video_destination_streamer_hub"||c==="permalink"&&d==="tahoe"||c==="notifications"&&d==="tahoe"?!0:!1};d.$VideoWithCommercialBreak49=function(){var a=this.$VideoWithCommercialBreak1,c=a.getPlayerOrigin(),d=b("CommercialBreakUtil").getVideoPlayerSubOrigin(a);a=a.getUpstreamPlayerSource();return c==="video_home"&&d==="entry_point"&&a==="search"?!0:!1};d.$VideoWithCommercialBreak44=function(){var a=this;this.$VideoWithCommercialBreak12=this.$VideoWithCommercialBreak1.getOption("VideoWithInstreamVideo","controller");if(!this.$VideoWithCommercialBreak12)return;this.$VideoWithCommercialBreak2.remove();this.$VideoWithCommercialBreak7=this.$VideoWithCommercialBreak12.getConfig();this.$VideoWithCommercialBreak7.isComposerPreviewing||(b("CommercialBreakExperiments").instreamAdsNFXOnContextCard&&b("StoryComponentVideoPlayerControllerRegistry").registerVideoPlayerController(this.$VideoWithCommercialBreak1,b("CommercialBreakHostStoryComponentType").POP_OVER_MENU),b("CommercialBreakExperiments").instreamAdsEnableGreyHostStory&&b("StoryComponentVideoPlayerControllerRegistry").registerVideoPlayerController(this.$VideoWithCommercialBreak1,b("CommercialBreakHostStoryComponentType").HOST_STORY_HEADER));this.reset();this.$VideoWithCommercialBreak1.registerOption("VideoWithCommercialBreak","enabled",function(){return!0});this.$VideoWithCommercialBreak1.registerOption("VideoWithCommercialBreak","controller",function(){return a});this.$VideoWithCommercialBreak1.registerOption("VideoWithCommercialBreak","isInstreamPausedByNFX",this.$VideoWithCommercialBreak52.bind(this));this.$VideoWithCommercialBreak7!=null&&this.$VideoWithCommercialBreak7.shouldShowNIDemoAd&&(this.$VideoWithCommercialBreak3=this.addListener("commercialBreak/nonInterruptiveAdStoryFetched",function(b){a.showNonInterruptiveAd()}));this.$VideoWithCommercialBreak1.addListener("tahoeController/displayNewMedia",function(){a.cleanUpAdWhenHostVideoEnd()})};d.$VideoWithCommercialBreak53=function(){return this.$VideoWithCommercialBreak7.isLive&&this.$VideoWithCommercialBreak25==="false"&&this.$VideoWithCommercialBreak14===null&&this.$VideoWithCommercialBreak12.getCurrentInstreamPlacement()==="mid_roll"};d.$VideoWithCommercialBreak54=function(a,c){c===void 0&&(c={});if(a===this.$VideoWithCommercialBreak8)return;if(a==="ENTERING_TRANSITION"&&this.$VideoWithCommercialBreak53()){this.reset();return}c.state=a;Object.prototype.hasOwnProperty.call(c,"instreamPlacement")||(c.instreamPlacement=this.$VideoWithCommercialBreak12.getCurrentInstreamPlacement());a==="INIT"?(this.$VideoWithCommercialBreak12.resetInstreamVideo(),this.$VideoWithCommercialBreak13.release(),this.$VideoWithCommercialBreak13.engage(),this.$VideoWithCommercialBreak14=null,this.$VideoWithCommercialBreak26=null,this.$VideoWithCommercialBreak27=null,this.$VideoWithCommercialBreak29=null,this.$VideoWithCommercialBreak30=-1):a==="PREPARE"?(this.$VideoWithCommercialBreak15=null,this.$VideoWithCommercialBreak37=null,this.$VideoWithCommercialBreak39!=null&&(b("CommercialBreakUtil").removeNonInterruptiveAd(this.$VideoWithCommercialBreak39,this.$VideoWithCommercialBreak40),this.$VideoWithCommercialBreak39=null,this.resetNonInterruptiveStatus())):(a==="ENTERING_TRANSITION"||a==="PLAY_AD"&&!b("CommercialBreakUtil").getNonInterruptiveStoryTypeConfig().has(this.$VideoWithCommercialBreak15)||a==="LEAVING_TRANSITION")&&this.$VideoWithCommercialBreak12.registerInstreamVideo(null);this.$VideoWithCommercialBreak8=a;this.emit("commercialBreak/stateChange",c)};d.setStoryIdentifier=function(a){this.$VideoWithCommercialBreak31=a};d.getChevronButtonID=function(){return this.$VideoWithCommercialBreak28};d.getInstreamVideoOptionMenuURI=function(){return this.$VideoWithCommercialBreak20};d.getIsCommercialBreakOngoing=function(){return this.$VideoWithCommercialBreak8==="ENTERING_TRANSITION"&&this.$VideoWithCommercialBreak7.isLive||this.$VideoWithCommercialBreak8==="PLAY_AD"||this.$VideoWithCommercialBreak8==="LEAVING_TRANSITION"};d.getIsDuringTransition=function(){return this.$VideoWithCommercialBreak8==="ENTERING_TRANSITION"||this.$VideoWithCommercialBreak8==="LEAVING_TRANSITION"};d.reset=function(){this.$VideoWithCommercialBreak54("INIT"),this.$VideoWithCommercialBreak9=0,this.$VideoWithCommercialBreak24=0,this.$VideoWithCommercialBreak10=-1,this.$VideoWithCommercialBreak11=-1,this.$VideoWithCommercialBreak19=null,this.$VideoWithCommercialBreak21=!1,this.$VideoWithCommercialBreak12.setCurrentInstreamVideoAdBreakIndex(null),this.$VideoWithCommercialBreak12.setCurrentInstreamVideoAdBreakVideoID(null),this.$VideoWithCommercialBreak12.setCurrentInstreamPlacement(null),this.$VideoWithCommercialBreak12.setCurrentAdTriggerSource(null),this.$VideoWithCommercialBreak12.setCurrentClientLiveVideoTimestamp(null),this.$VideoWithCommercialBreak20=null,this.$VideoWithCommercialBreak41.isEnable=!1};d.logAndEndCommercialBreak=function(a){this.$VideoWithCommercialBreak19=a||null,this.$VideoWithCommercialBreak55(),this.reset()};d.endCommercialBreakByCTAClick=function(){this.logAndEndCommercialBreak(j.CALL_TO_ACTION_BUTTON_CLICKS)};d.setIsDuplicateLiveVideo=function(a){this.$VideoWithCommercialBreak18=a};d.getIsDuplicateLiveVideo=function(){return this.$VideoWithCommercialBreak18};d.onIntentCommand=function(a,c,d){var e=this;if(this.$VideoWithCommercialBreak8!=="INIT"&&this.$VideoWithCommercialBreak8!=="PREPARE"&&this.$VideoWithCommercialBreak8!=="AD_REQUEST_SENT")return;this.$VideoWithCommercialBreak54("INIT");this.$VideoWithCommercialBreak54("PREPARE",{instreamPlacement:c});this.$VideoWithCommercialBreak12.setCurrentInstreamVideoAdBreakIndex(a);this.$VideoWithCommercialBreak12.setCurrentInstreamPlacement(c);var f=this.$VideoWithCommercialBreak56(a,c,d);if(!f)return;var g=null;if(c==="pre_roll"){a=this.$VideoWithCommercialBreak33;a||h(0,5655);g=a.maxFetchTimeMs}c==="pre_roll"&&this.$VideoWithCommercialBreak51()?b("isVideoAutoplayAllowed")(function(a){a?(e.$VideoWithCommercialBreak57(f,g),e.$VideoWithCommercialBreak54("AD_REQUEST_SENT")):e.reset()}):(this.$VideoWithCommercialBreak57(f,g),this.$VideoWithCommercialBreak54("AD_REQUEST_SENT"))};d.onLiveIntentCommand=function(a){var b=a.commercial_break_length_ms?parseInt(a.commercial_break_length_ms,10):null,c=Object.prototype.hasOwnProperty.call(a,"index")?parseInt(a.index,10):0;if(a.type==="intent"){this.$VideoWithCommercialBreak12.logMarauderEvent("commercial_break_skywalker_receive_intent",{topic:this.$VideoWithCommercialBreak7.skywalkerTopic,commercial_break_length_ms:b,ad_break_index:c});a=a.lastScrollAwayTime;if(a&&a>0&&Date.now()-a>this.$VideoWithCommercialBreak7.maxDurationHostVideoOffscreenToFetchMs)return}if(this.$VideoWithCommercialBreak8!=="INIT"&&this.$VideoWithCommercialBreak8!=="PREPARE"&&this.$VideoWithCommercialBreak8!=="AD_REQUEST_SENT")return;this.$VideoWithCommercialBreak54("INIT");this.$VideoWithCommercialBreak54("PREPARE");this.$VideoWithCommercialBreak12.setCurrentInstreamVideoAdBreakIndex(c);this.$VideoWithCommercialBreak12.setCurrentInstreamPlacement("mid_roll");b&&(this.$VideoWithCommercialBreak9=b);if(this.$VideoWithCommercialBreak18)return;a=this.$VideoWithCommercialBreak56(c,"mid_roll",b);if(!a)return;this.$VideoWithCommercialBreak57(a);this.$VideoWithCommercialBreak54("AD_REQUEST_SENT")};d.$VideoWithCommercialBreak58=function(){return b("CommercialBreakUtil").getVideoPlayerFormat(this.$VideoWithCommercialBreak1)};d.$VideoWithCommercialBreak56=function(a,c,d){var e=this.$VideoWithCommercialBreak12.getCurrentInstreamVideoAdType();if(!e||!this.$VideoWithCommercialBreak7.hostVideoID&&!this.$VideoWithCommercialBreak7.shouldShowDemoAd){b("BanzaiODS").bumpEntityKey(2966,"instreamads","missing_query_params");return null}var f=this.$VideoWithCommercialBreak1.getSource()==="permalink"?document.referrer:null;return{host_video_id:this.$VideoWithCommercialBreak7.hostVideoID,instream_video_type:e,instream_video_break_index:a,player_origin:this.$VideoWithCommercialBreak1.getPlayerOrigin(),script_path:b("ScriptPath").getScriptPath(),player_sub_origin:b("CommercialBreakUtil").getVideoPlayerSubOrigin(this.$VideoWithCommercialBreak1),is_sponsored_host_video:this.$VideoWithCommercialBreak7.isSponsored,video_channel_caller:this.$VideoWithCommercialBreak7.videoChannelCaller,host_video_stall_count:this.$VideoWithCommercialBreak1.getStallCount(),ad_break_duration_ms:d,referrer:f,option_menu_button_id:b("CommercialBreakExperiments").instreamAdsNFXOnContextCard?this.getChevronButtonID():"",should_show_demo_ad:this.$VideoWithCommercialBreak7.shouldShowDemoAd,should_show_short_demo_ad:this.$VideoWithCommercialBreak7.shouldShowShortDemoAd,player_format:this.$VideoWithCommercialBreak58(),instream_placement:c,story_identifier:this.$VideoWithCommercialBreak31?b("Base64").encode(this.$VideoWithCommercialBreak31):null,window_href:window.location.href,ad_trigger_source:this.$VideoWithCommercialBreak12.getCurrentAdTriggerSource(),client_live_video_timestamp:this.$VideoWithCommercialBreak12.getCurrentClientLiveVideoTimestamp()}};d.$VideoWithCommercialBreak57=function(a,c){var d=this,e=null;if(a.should_show_demo_ad){var f=b("XInstreamVideoDemoStoryAsyncController").getURIBuilder().setEnum("instream_video_type",a.instream_video_type).setInt("instream_video_break_index",a.instream_video_break_index).setBool("show_short_ad",a.should_show_short_demo_ad).setEnum("instream_placement",a.instream_placement);e=new(b("AsyncRequest"))(f.getURI()).setMethod("GET").setReadOnly(!0).setHandler(function(a){d.$VideoWithCommercialBreak59(a.getPayload())}).setErrorHandler(this.$VideoWithCommercialBreak60.bind(this))}else{f=b("XInstreamVideoSponsoredStoryAsyncController").getURIBuilder().setFBID("host_video_id",a.host_video_id).setEnum("instream_video_type",a.instream_video_type).setInt("instream_video_break_index",a.instream_video_break_index).setEnum("video_channel_caller",a.video_channel_caller).setBool("is_sponsored_host_video",a.is_sponsored_host_video).setInt("host_video_stall_count",a.host_video_stall_count).setInt("ad_break_duration_ms",a.ad_break_duration_ms).setString("player_origin",a.player_origin).setString("player_sub_origin",a.player_sub_origin).setString("script_path",a.script_path).setString("referrer",a.referrer).setString("option_menu_button_id",a.option_menu_button_id).setString("player_format",a.player_format).setEnum("instream_placement",a.instream_placement).setString("story_identifier",a.story_identifier).setString("window_href",a.window_href).setEnum("ad_trigger_source",a.ad_trigger_source).setInt("client_live_video_timestamp",a.client_live_video_timestamp);e=new(b("AsyncRequest"))(f.getURI()).setMethod("GET").setReadOnly(!0).setHandler(function(a){d.$VideoWithCommercialBreak59(a.getPayload())}).setErrorHandler(this.$VideoWithCommercialBreak60.bind(this))}c&&(e&&e.setTimeoutHandler(c,this.$VideoWithCommercialBreak61.bind(this)));e&&e.send();this.$VideoWithCommercialBreak1.emit("commercialBreak/toast","fetch_ad");this.$VideoWithCommercialBreak30=Date.now()};d.$VideoWithCommercialBreak61=function(a){this.$VideoWithCommercialBreak12.getCurrentInstreamPlacement()==="pre_roll"&&(this.$VideoWithCommercialBreak62("fetch_timeout"),this.$VideoWithCommercialBreak12.logMarauderEvent("commercial_break_pre_roll_fetch_success_late"),this.reset());return};d.$VideoWithCommercialBreak60=function(){var a=this;b("ghlTestUBT")(function(b){a.$VideoWithCommercialBreak12.logMarauderEvent("commercial_break_video_fetch_failure",{is_ad_block_enabled:b})});this.$VideoWithCommercialBreak12.getCurrentInstreamPlacement()==="pre_roll"&&(this.$VideoWithCommercialBreak62("fetch_fail"),this.reset());this.$VideoWithCommercialBreak1.emit("commercialBreak/toast","fetch_ad_fail")};d.$VideoWithCommercialBreak59=function(a){if(!this.$VideoWithCommercialBreak7.isLive&&this.$VideoWithCommercialBreak8==="ENTERING_TRANSITION")return;if(this.$VideoWithCommercialBreak8!=="AD_REQUEST_SENT"&&this.$VideoWithCommercialBreak8!=="CB_SCHEDULED"&&this.$VideoWithCommercialBreak8!=="ENTERING_TRANSITION")return;var c=a.isEmpty,d=a.instreamVideoAdBreakIndex,e=a.instreamVideoAdType,f=a.instreamPlacement,g=a.videoAdStory,i=a.instreamVideoAdBreakVideoID,j=a.instreamVideoOptionMenuURI;this.$VideoWithCommercialBreak14=c?null:d;this.$VideoWithCommercialBreak15=a.adStoryType;if(g){this.$VideoWithCommercialBreak12.logMarauderEvent("commercial_break_video_fetch_success",{is_empty:c,commercial_break_ad_client_token:a.instreamVideoAdBreakClientToken,client_side_ads_query_consumed_time_in_ms:this.$VideoWithCommercialBreak30>0?Date.now()-this.$VideoWithCommercialBreak30:null});var k=this.$VideoWithCommercialBreak12.getCurrentInstreamVideoAdType(),l=this.$VideoWithCommercialBreak12.getCurrentInstreamPlacement();e===k&&f===l||h(0,5656);e=c?null:i;this.$VideoWithCommercialBreak26=a.callToAction;this.$VideoWithCommercialBreak27=a.contextCardTrackingWrapper;this.$VideoWithCommercialBreak29=a.infoCardNuxID;this.$VideoWithCommercialBreak12.setIntegratedLoudnessValue(a.integratedLoudnessValue);this.emit("commercialBreak/videoAdStoryFetched",g,c,d,e,a.instreamVideoAdBreakClientToken);c||this.emit("commercialBreak/runFraudDetector",a.instreamAdImpressionIdentifier,a.botDetectionBeneficiaryID,a.botDetectionContentID);this.$VideoWithCommercialBreak1.emit("commercialBreak/toast","fetch_ad_succeed",{isEmpty:c,disabledReason:a.disabledReason});b("CommercialBreakExperiments").instreamAdsNFXOnContextCard&&!c&&(this.$VideoWithCommercialBreak20=j);l==="pre_roll"&&(!c?this.$VideoWithCommercialBreak63(d,f):(this.$VideoWithCommercialBreak62("fetch_nothing"),this.$VideoWithCommercialBreak12.logMarauderEvent("commercial_break_start_show_nothing",{instream_placement:"pre_roll"}),this.reset()));this.$VideoWithCommercialBreak12.getCurrentAdTriggerSource()==="unified_scheduler"&&(!c&&this.$VideoWithCommercialBreak64()?this.$VideoWithCommercialBreak65():this.reset())}else if(b("CommercialBreakUtil").getNonInterruptiveStoryTypeConfig().has(this.$VideoWithCommercialBreak15)){this.$VideoWithCommercialBreak20=j;this.$VideoWithCommercialBreak37=a;this.$VideoWithCommercialBreak37&&this.$VideoWithCommercialBreak1.emit("commercialBreak/toast","fetch_ad_succeed",{isEmpty:c,disabledReason:a.disabledReason});this.$VideoWithCommercialBreak7&&this.$VideoWithCommercialBreak7.shouldShowNIDemoAd&&this.emit("commercialBreak/nonInterruptiveAdStoryFetched",this.$VideoWithCommercialBreak37);k=this.$VideoWithCommercialBreak37;k&&(this.$VideoWithCommercialBreak41.isNIPreloadedAndHide=!0,this.$VideoWithCommercialBreak66(k.trackingWrapper),this.emit("nonInterruptiveAd/showNonInterruptiveAd",k))}else this.$VideoWithCommercialBreak12.logMarauderEvent("commercial_break_video_fetch_failure")};d.$VideoWithCommercialBreak63=function(a,c){if(b("Visibility").isHidden()){this.$VideoWithCommercialBreak62("skipped");this.reset();return}this.onStartCommand(a,c,0)};d.$VideoWithCommercialBreak65=function(){if(b("Visibility").isHidden()){this.reset();return}this.$VideoWithCommercialBreak42=this.$VideoWithCommercialBreak67();this.$VideoWithCommercialBreak54("ENTERING_TRANSITION");b("setTimeout")(this.$VideoWithCommercialBreak68.bind(this),this.$VideoWithCommercialBreak7.beginningTransitionTimeMs)};d.$VideoWithCommercialBreak64=function(){var a=this.$VideoWithCommercialBreak1.getOption("CommercialBreakWithSqueezeback","controller");return a&&a.isEligibleForSqueezeback()};d.$VideoWithCommercialBreak62=function(a){this.$VideoWithCommercialBreak34=a;a=this.$VideoWithCommercialBreak1;if(!a.isState("destroyed")&&!a.isState("fallback")){var c=b("ViewportTrackingHelper").isVisible(a.getRootNode(),0);c&&a.play("user_initiated")}};d.getLastUnifiedSchedulerAdStartedTimestamp=function(){return this.$VideoWithCommercialBreak42};d.getCallToAction=function(){return this.$VideoWithCommercialBreak26};d.getContextCardTrackingWrapper=function(){return this.$VideoWithCommercialBreak27};d.getNonInterruptiveAdTrackingWrapper=function(){return this.$VideoWithCommercialBreak40};d.getInfoCardNuxID=function(){return this.$VideoWithCommercialBreak29};d.onStartCommand=function(a,c,d){var e=this;this.$VideoWithCommercialBreak10=d;if(this.$VideoWithCommercialBreak8!=="INIT"&&this.$VideoWithCommercialBreak8!=="PREPARE"&&this.$VideoWithCommercialBreak8!=="AD_REQUEST_SENT")return;this.$VideoWithCommercialBreak12.setCurrentInstreamVideoAdBreakIndex(a);this.$VideoWithCommercialBreak12.setCurrentInstreamPlacement(c);this.$VideoWithCommercialBreak8==="INIT"&&this.onIntentCommand(a,c,this.$VideoWithCommercialBreak7.commercialBreakLengthMs);this.$VideoWithCommercialBreak54("CB_SCHEDULED");this.$VideoWithCommercialBreak4=this.$VideoWithCommercialBreak1.addListener("updateStatus",function(){return e.$VideoWithCommercialBreak69()});this.$VideoWithCommercialBreak69();b("Arbiter").inform("commercialBreak/start",this)};d.onLiveStartCommand=function(a){var c=this,d=parseInt(a.commercial_break_start_time_ms,10);this.$VideoWithCommercialBreak10=d;var e=this.$VideoWithCommercialBreak67();this.$VideoWithCommercialBreak11=e;this.$VideoWithCommercialBreak25=Object.prototype.hasOwnProperty.call(a,"commercial_break_drop_live_stream")?a.commercial_break_drop_live_stream:null;var f=Object.prototype.hasOwnProperty.call(a,"index")?parseInt(a.index,10):0;this.$VideoWithCommercialBreak12.logMarauderEvent("commercial_break_skywalker_receive_start",{topic:this.$VideoWithCommercialBreak7.skywalkerTopic,commercial_break_start_time_ms:d,ad_break_index:f});if(d<e-this.$VideoWithCommercialBreak7.allowedStartTimeDeltaMs){this.$VideoWithCommercialBreak8!=="INIT"&&b("BanzaiODS").bumpEntityKey(2966,"instreamads","receive_start_after_break");return}b("QE2Logger").logExposureForUser(this.$VideoWithCommercialBreak7.midRollQEName);if(!this.$VideoWithCommercialBreak7.liveMidRollEnabled)return;if(this.$VideoWithCommercialBreak8!=="INIT"&&this.$VideoWithCommercialBreak8!=="PREPARE"&&this.$VideoWithCommercialBreak8!=="AD_REQUEST_SENT")return;this.$VideoWithCommercialBreak12.setCurrentInstreamVideoAdBreakIndex(f);this.$VideoWithCommercialBreak12.setCurrentInstreamPlacement("mid_roll");if(this.$VideoWithCommercialBreak8==="INIT"){d=a.commercial_break_length_ms?parseInt(a.commercial_break_length_ms,10):null;this.$VideoWithCommercialBreak9=d?d:this.$VideoWithCommercialBreak7.commercialBreakLengthMs;this.onLiveIntentCommand(a)}this.$VideoWithCommercialBreak54("CB_SCHEDULED");this.$VideoWithCommercialBreak13.addSubscriptions(this.$VideoWithCommercialBreak1.addListener("streamInterrupted",this.$VideoWithCommercialBreak69.bind(this,!0)));this.$VideoWithCommercialBreak4=this.$VideoWithCommercialBreak1.addListener("updateStatus",function(){return c.$VideoWithCommercialBreak69()});this.$VideoWithCommercialBreak69()};d.$VideoWithCommercialBreak69=function(a){a===void 0&&(a=!1);if(this.$VideoWithCommercialBreak8!=="CB_SCHEDULED"){this.$VideoWithCommercialBreak4.remove();return}var c=this.$VideoWithCommercialBreak67(),d=this.$VideoWithCommercialBreak10-c,e=d>0&&d<=this.$VideoWithCommercialBreak7.startFromStreamDryDeltaMs&&this.$VideoWithCommercialBreak1.isBuffering()&&this.$VideoWithCommercialBreak1.isState("playing");if(!this.$VideoWithCommercialBreak7.isLive||this.$VideoWithCommercialBreak12.getCurrentInstreamPlacement()==="pre_roll"||Math.abs(d)<=this.$VideoWithCommercialBreak7.allowedStartTimeDeltaMs||e||a){this.$VideoWithCommercialBreak4.remove();var f=k.NORMAL;e?f=k.STALL_STREAM:a&&(f=k.STREAM_DRY_OUT);e=this.$VideoWithCommercialBreak10-this.$VideoWithCommercialBreak11;this.$VideoWithCommercialBreak12.logMarauderEvent("commercial_break_start",{timestamp_delta_ms:parseInt(d,10),timestamp_latency_ms:parseInt(e,10),playback_trigger_event:f,viewer_count:this.$VideoWithCommercialBreak70()});this.$VideoWithCommercialBreak54("ENTERING_TRANSITION");this.$VideoWithCommercialBreak12.logMarauderEvent("commercial_break_transit");a=this.$VideoWithCommercialBreak7.isLive?this.$VideoWithCommercialBreak7.beginningTransitionTimeMs:this.$VideoWithCommercialBreak7.beginningNonLiveTransitionTimeMs;b("setTimeout")(this.$VideoWithCommercialBreak68.bind(this),a)}else c>this.$VideoWithCommercialBreak10&&(this.$VideoWithCommercialBreak4.remove(),this.reset())};d.$VideoWithCommercialBreak66=function(a){b("CommercialBreakUtil").removeNonInterruptiveAd(this.$VideoWithCommercialBreak39,this.$VideoWithCommercialBreak40);this.$VideoWithCommercialBreak39=b("DOM").create("div",{className:"_6-gf"});var c=this.$VideoWithCommercialBreak39;this.$VideoWithCommercialBreak41.isNIPreloadedAndHide&&(c&&(b("CSS").addClass(c,"_8f71"),this.$VideoWithCommercialBreak1.getSource()==="watch_scroll"&&(this.$VideoWithCommercialBreak41.NIhidedInWNS=!0)));b("DOM").insertAfter(this.$VideoWithCommercialBreak43,this.$VideoWithCommercialBreak39);c&&(b("CommercialBreakUtil").renderNonInterruptiveAd(this,c,a),this.$VideoWithCommercialBreak41.NISourceState=this.$VideoWithCommercialBreak1.getSource(),this.$VideoWithCommercialBreak54("PLAY_AD"))};d.getNextNonInterruptiveAd=function(){return this.$VideoWithCommercialBreak37};d.showNonInterruptiveAd=function(){var a=this.$VideoWithCommercialBreak37;if(!a||this.$VideoWithCommercialBreak1.getSource()==="watch_scroll")return;if(this.$VideoWithCommercialBreak7&&this.$VideoWithCommercialBreak7.shouldShowNIDemoAd||this.$VideoWithCommercialBreak38&&this.$VideoWithCommercialBreak38.nonInterruptiveAdEnabled){if(this.$VideoWithCommercialBreak41.isNIPreloadedAndHide&&!this.$VideoWithCommercialBreak41.isNIRemovedDuringPreloaded){var c=this.$VideoWithCommercialBreak39;if(c){b("CSS").removeClass(c,"_8f71");this.$VideoWithCommercialBreak41.isNIPreloadedAndHide=!1;this.$VideoWithCommercialBreak71();this.emit("nonInterruptiveAd/unhide");this.$VideoWithCommercialBreak41.isEnable=!0;return}}this.$VideoWithCommercialBreak41.isNIRemovedDuringPreloaded&&(this.$VideoWithCommercialBreak41.isNIPreloadedAndHide=!1,this.$VideoWithCommercialBreak41.isNIRemovedDuringPreloaded=!1);this.$VideoWithCommercialBreak66(a.trackingWrapper);this.$VideoWithCommercialBreak71()}this.emit("nonInterruptiveAd/showNonInterruptiveAd",a);this.$VideoWithCommercialBreak41.isEnable=!0};d.logExposureForNonInterruptiveAd=function(){var a=this.$VideoWithCommercialBreak38;if(!a)return;b("QE2Logger").logExposureForUser(a.nonInterruptiveQEName)};d.$VideoWithCommercialBreak71=function(){var a="_1kyo",c="_1dwg";if(this.$VideoWithCommercialBreak43){c=b("DOMQuery").scry(this.$VideoWithCommercialBreak43,"^."+c+" ."+a);if(c.length>0){a=c[0];a.style.display="none"}}};d.$VideoWithCommercialBreak68=function(){var a=this;if(this.$VideoWithCommercialBreak8!=="CB_SCHEDULED"&&this.$VideoWithCommercialBreak8!=="ENTERING_TRANSITION"&&this.$VideoWithCommercialBreak8!=="PLAY_AD")return;if(!this.$VideoWithCommercialBreak7.isLive||this.$VideoWithCommercialBreak12.getCurrentInstreamPlacement()==="pre_roll"){this.$VideoWithCommercialBreak54("PLAY_AD",{countdownDurationMsecs:0});return}if(this.$VideoWithCommercialBreak25==="false"){this.$VideoWithCommercialBreak54("PLAY_AD",{countdownDurationMsecs:0});return}var c=this.$VideoWithCommercialBreak9-this.$VideoWithCommercialBreak7.beginningTransitionTimeMs,d=c-this.$VideoWithCommercialBreak7.endingTransitionTimeMs;this.$VideoWithCommercialBreak24=d;this.$VideoWithCommercialBreak54("PLAY_AD",{countdownDurationMsecs:this.$VideoWithCommercialBreak7.isLive?d:0});this.$VideoWithCommercialBreak16=!0;this.$VideoWithCommercialBreak12.getCurrentAdTriggerSource()==="unified_scheduler"&&this.$VideoWithCommercialBreak64()?this.$VideoWithCommercialBreak16=!1:b("setTimeout")(function(){a.$VideoWithCommercialBreak16=!1},d-i.SHORT_AD_COUNTDOWN_MS);b("setTimeout")(this.$VideoWithCommercialBreak72.bind(this),d);this.$VideoWithCommercialBreak17=!1;b("setTimeout")(this.$VideoWithCommercialBreak73.bind(this),c);b("setTimeout")(this.$VideoWithCommercialBreak74.bind(this),c+this.$VideoWithCommercialBreak7.maxOverduePlayingTimeMs)};d.leaveAdBreak=function(){var a=this,c=this.$VideoWithCommercialBreak52(),d=this.$VideoWithCommercialBreak12.getCurrentInstreamPlacement();if(!this.$VideoWithCommercialBreak7.isLive||d==="pre_roll"){this.$VideoWithCommercialBreak19=c?this.$VideoWithCommercialBreak22==b("InstreamNFXHideType").HIDE_AD_BREAKS?j.HIDE_AD_BREAKS:j.HIDE_AD:j.PLAYBACK_FINISHED;this.$VideoWithCommercialBreak12.logMarauderEvent("commercial_break_transit");this.$VideoWithCommercialBreak54("LEAVING_TRANSITION");var e=this.$VideoWithCommercialBreak7.isLive&&d!=="pre_roll"?this.$VideoWithCommercialBreak7.endingTransitionTimeMs:this.$VideoWithCommercialBreak7.endingNonLiveTransitionTimeMs;this.$VideoWithCommercialBreak7.isLive&&d==="pre_roll"&&this.$VideoWithCommercialBreak75();b("setTimeout")(function(){a.$VideoWithCommercialBreak76()},e);return}if(this.$VideoWithCommercialBreak25==="false"){this.$VideoWithCommercialBreak19=c?j.HIDE_AD:j.PLAYBACK_FINISHED;this.$VideoWithCommercialBreak12.logMarauderEvent("commercial_break_transit");this.$VideoWithCommercialBreak54("LEAVING_TRANSITION");b("setTimeout")(this.$VideoWithCommercialBreak73.bind(this),this.$VideoWithCommercialBreak7.endingTransitionTimeMs);return}this.$VideoWithCommercialBreak8==="PLAY_AD"&&(!this.$VideoWithCommercialBreak12.getIsAdActive()?(this.$VideoWithCommercialBreak19=j.NONE,this.$VideoWithCommercialBreak12.logMarauderEvent("commercial_break_transit"),this.$VideoWithCommercialBreak54("LEAVING_TRANSITION")):((this.$VideoWithCommercialBreak12.isState("finished")||this.$VideoWithCommercialBreak12.isState("destroyed"))&&!this.$VideoWithCommercialBreak16||c)&&(this.$VideoWithCommercialBreak19=c?j.HIDE_AD:j.PLAYBACK_FINISHED,this.$VideoWithCommercialBreak17?(this.$VideoWithCommercialBreak55(),this.reset()):(this.$VideoWithCommercialBreak12.logMarauderEvent("commercial_break_transit"),this.$VideoWithCommercialBreak54("LEAVING_TRANSITION"))))};d.shouldShowNonInterruptiveAd=function(){var a=this.$VideoWithCommercialBreak38;return!a?!1:a.nonInterruptiveAdEnabled};d.$VideoWithCommercialBreak76=function(){this.$VideoWithCommercialBreak12.getCurrentInstreamPlacement()==="pre_roll"&&this.$VideoWithCommercialBreak62("playback_finished"),this.$VideoWithCommercialBreak55(),this.reset()};d.$VideoWithCommercialBreak45=function(a,b){b!==this&&this.reset()};d.$VideoWithCommercialBreak73=function(){this.$VideoWithCommercialBreak8==="LEAVING_TRANSITION"?(this.$VideoWithCommercialBreak55(),this.reset()):this.$VideoWithCommercialBreak8==="PLAY_AD"&&(this.$VideoWithCommercialBreak17=!0)};d.$VideoWithCommercialBreak74=function(){if(this.$VideoWithCommercialBreak52())return;this.$VideoWithCommercialBreak8==="PLAY_AD"&&(this.$VideoWithCommercialBreak19=j.CUT_OFF,this.$VideoWithCommercialBreak55(),this.reset())};d.$VideoWithCommercialBreak72=function(){if(this.$VideoWithCommercialBreak52())return;this.leaveAdBreak()};d.$VideoWithCommercialBreak55=function(){this.$VideoWithCommercialBreak12.getIsVisibleForAutoplay()&&this.$VideoWithCommercialBreak12.logMarauderEvent("commercial_break_end",{ending_reason:this.$VideoWithCommercialBreak19})};d.$VideoWithCommercialBreak67=function(){var a=this.$VideoWithCommercialBreak1.getCurrentTimePosition()*b("DateConsts").MS_PER_SEC;return a};d.$VideoWithCommercialBreak70=function(){if(!this.$VideoWithCommercialBreak7.isLive)return null;var a=this.$VideoWithCommercialBreak1.getOption("VideoWithLiveBroadcast","viewCount");a=a&&JSON.parse(b("DataStore").get(a,"store",null));return a?a.viewerCount:null};d.$VideoWithCommercialBreak52=function(){var a=this.$VideoWithCommercialBreak12.getAdController();return a&&a.isState("paused")&&this.$VideoWithCommercialBreak8==="PLAY_AD"&&this.$VideoWithCommercialBreak21};d.$VideoWithCommercialBreak75=function(){var a=this.$VideoWithCommercialBreak1,b=a.getSeekableRanges();if(b){b=b.end(b.length()-1);a.seek(b)}};d.triggerUnifiedSchedulerFetch=function(a){if(this.$VideoWithCommercialBreak8!=="INIT"&&this.$VideoWithCommercialBreak8!=="PREPARE"&&this.$VideoWithCommercialBreak8!=="AD_REQUEST_SENT")return;this.$VideoWithCommercialBreak54("INIT");this.$VideoWithCommercialBreak54("PREPARE");this.$VideoWithCommercialBreak12.setCurrentInstreamVideoAdBreakIndex(this.$VideoWithCommercialBreak7.unifiedSchedulerDefaultIndex);this.$VideoWithCommercialBreak12.setCurrentInstreamPlacement("mid_roll");this.$VideoWithCommercialBreak12.setCurrentAdTriggerSource("unified_scheduler");this.$VideoWithCommercialBreak12.setCurrentClientLiveVideoTimestamp(Math.round(a));this.$VideoWithCommercialBreak9=this.$VideoWithCommercialBreak7.commercialBreakLengthMs;a=this.$VideoWithCommercialBreak56(this.$VideoWithCommercialBreak7.unifiedSchedulerDefaultIndex,"mid_roll",this.$VideoWithCommercialBreak9);if(!a)return;this.$VideoWithCommercialBreak57(a);this.$VideoWithCommercialBreak54("AD_REQUEST_SENT")};d.startBreakWithNoVideoAd=function(a,b,c){this.$VideoWithCommercialBreak12.setCurrentInstreamVideoAdBreakIndex(c),this.$VideoWithCommercialBreak12.logMarauderEvent("commercial_break_start_show_nothing",{commercial_break_no_ad_reason:a}),this.reset()};d.hasReceivedAdStory=function(a){return a===this.$VideoWithCommercialBreak14};d.onPauseAdFromNFX=function(){if(this.$VideoWithCommercialBreak8!=="PLAY_AD"||b("CommercialBreakUtil").getNonInterruptiveStoryTypeConfig().has(this.$VideoWithCommercialBreak15))return;this.$VideoWithCommercialBreak21=!0;b("EntstreamFeedObjectFollowup").addInstreamAdsFollowup(this.$VideoWithCommercialBreak1.getRootNode());var a=this.$VideoWithCommercialBreak12.getAdController();a&&(a.pause("user_initiated"),b("CSS").addClass(a.getVideoNode(),"_1_d3"),b("CSS").addClass(a.getRootNode(),"_4ap-"))};d.onPlayAdFromNFX=function(){if(this.$VideoWithCommercialBreak8!=="PLAY_AD")return;var a=this.$VideoWithCommercialBreak12.getAdController();a&&(this.$VideoWithCommercialBreak21=!1,b("CSS").removeClass(a.getVideoNode(),"_1_d3"),b("CSS").removeClass(a.getRootNode(),"_4ap-"),this.$VideoWithCommercialBreak12.play("user_initiated"))};d.onLeaveAdFromNFX=function(a){if(this.$VideoWithCommercialBreak8!=="PLAY_AD")return;this.$VideoWithCommercialBreak22=a;this.leaveAdBreak();this.$VideoWithCommercialBreak21=!1;this.$VideoWithCommercialBreak22=null};d.getLiveCountdownDurationMs=function(){return this.$VideoWithCommercialBreak24};d.getReceivedAdStoryType=function(){return this.$VideoWithCommercialBreak15};d.setNonInterruptiveAdContainer=function(a){this.$VideoWithCommercialBreak39=a};d.setNonInterruptiveAdTrackingWrapper=function(a){this.$VideoWithCommercialBreak40=a};d.getNonInterruptiveAdContainer=function(){return this.$VideoWithCommercialBreak39};d.cleanUpAdWhenHostVideoEnd=function(){this.$VideoWithCommercialBreak8==="PLAY_AD"&&b("CommercialBreakUtil").getNonInterruptiveStoryTypeConfig().has(this.$VideoWithCommercialBreak15)&&(b("CommercialBreakUtil").removeNonInterruptiveAd(this.$VideoWithCommercialBreak39,this.$VideoWithCommercialBreak40),this.$VideoWithCommercialBreak54("INIT"),this.$VideoWithCommercialBreak41.isEnable=!1)};d.getIsNICommercialBreakOnGoing=function(){return this.getIsCommercialBreakOngoing()&&b("CommercialBreakUtil").getNonInterruptiveStoryTypeConfig().has(this.$VideoWithCommercialBreak15)&&!this.$VideoWithCommercialBreak41.isNIPreloadedAndHide};d.getIsVideoAdCommercialBreakOnGoing=function(){return this.getIsCommercialBreakOngoing()&&!b("CommercialBreakUtil").getNonInterruptiveStoryTypeConfig().has(this.$VideoWithCommercialBreak15)};d.$VideoWithCommercialBreak47=function(){if(this.$VideoWithCommercialBreak41.NISourceState==="tahoe")return;this.$VideoWithCommercialBreak77()};d.$VideoWithCommercialBreak48=function(){if(this.$VideoWithCommercialBreak41.NISourceState!=="tahoe")return;this.$VideoWithCommercialBreak77()};d.$VideoWithCommercialBreak46=function(){this.$VideoWithCommercialBreak41.NIhidedInWNS&&(b("CommercialBreakUtil").removeNonInterruptiveAd(this.$VideoWithCommercialBreak39,this.$VideoWithCommercialBreak40),this.$VideoWithCommercialBreak41.NIhidedInWNS=!1,this.$VideoWithCommercialBreak41.isNIPreloadedAndHide=!1)};d.$VideoWithCommercialBreak77=function(){this.$VideoWithCommercialBreak41.isNIPreloadedAndHide&&(b("CommercialBreakUtil").removeNonInterruptiveAd(this.$VideoWithCommercialBreak39,this.$VideoWithCommercialBreak40),this.$VideoWithCommercialBreak41.isNIRemovedDuringPreloaded=!0),this.getIsNICommercialBreakOnGoing()&&this.showNonInterruptiveAd()};d.updateNIStatus=function(a){Object.assign(this.$VideoWithCommercialBreak41,a)};d.getNonInterruptiveStatus=function(){return this.$VideoWithCommercialBreak41};d.getIsNIPreloadedAndHide=function(){return this.$VideoWithCommercialBreak41.isNIPreloadedAndHide};d.resetNonInterruptiveStatus=function(){this.$VideoWithCommercialBreak41.NISourceState=null,this.$VideoWithCommercialBreak41.isNICollapse=!1,this.$VideoWithCommercialBreak41.isEnable=!1,this.$VideoWithCommercialBreak41.isNIPreloadedAndHide=!1,this.$VideoWithCommercialBreak41.isNIRemovedDuringPreloaded=!1,this.$VideoWithCommercialBreak41.NIhidedInWNS=!1};return c}(b("EventEmitter"));e.exports=a}),null);
__d("VideoWithInstreamVideo",["BanzaiODS","CommercialBreakShouldLogMarauderEvent","CommercialBreakUtil","DateConsts","EventEmitter","MarauderLogger","SubscriptionsHandler","onViewportChanged","qex"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c.$VideoWithInstreamVideo20=-18;c.$VideoWithInstreamVideo4=b;return c}var d=c.prototype;d.enable=function(a){var c=this;if(this.$VideoWithInstreamVideo2)return;this.$VideoWithInstreamVideo2=a;this.$VideoWithInstreamVideo3=a;this.$VideoWithInstreamVideo15=!1;this.$VideoWithInstreamVideo16=this.getIsVisibleForAutoplay();b("onViewportChanged")(this.$VideoWithInstreamVideo22.bind(this));this.$VideoWithInstreamVideo1=new(b("SubscriptionsHandler"))();this.$VideoWithInstreamVideo1.engage();this.$VideoWithInstreamVideo17=[];this.$VideoWithInstreamVideo23();this.$VideoWithInstreamVideo4.hostVideoLoudness!=null&&this.$VideoWithInstreamVideo4.hostVideoLoudness<this.$VideoWithInstreamVideo20&&(this.$VideoWithInstreamVideo20=this.$VideoWithInstreamVideo4.hostVideoLoudness);this.$VideoWithInstreamVideo2.registerOption("VideoWithInstreamVideo","enabled",function(){return!0});this.$VideoWithInstreamVideo2.registerOption("VideoWithInstreamVideo","controller",function(){return c})};d.disable=function(){};d.$VideoWithInstreamVideo24=function(){var a=["play","pause","mute","unmute","constructor","destroy","addListener","isMuted","isState","updateSource"],b=this.$VideoWithInstreamVideo2.constructor.prototype,c=Object.getOwnPropertyNames(b).filter(function(c){var d=b[c];return typeof d==="function"&&a.indexOf(c)<0});return c};d.$VideoWithInstreamVideo23=function(){var a=this.$VideoWithInstreamVideo24(),b=function(a){this.constructor.prototype[a]=function(){return this.$VideoWithInstreamVideo2[a].apply(this.$VideoWithInstreamVideo2,arguments)}};a.forEach(b,this)};d.$VideoWithInstreamVideo25=function(){a.prototype.emit.apply(this,arguments)};d.emit=function(){var a;(a=this.$VideoWithInstreamVideo2).emit.apply(a,arguments)};d.$VideoWithInstreamVideo26=function(a){var b=this;if(this.$VideoWithInstreamVideo17.indexOf(a)<0){this.$VideoWithInstreamVideo17.push(a);var c=function(a){return b.$VideoWithInstreamVideo25.bind(b,a)};this.$VideoWithInstreamVideo1.addSubscriptions(this.$VideoWithInstreamVideo2.addListener(a,c(a)))}};d.addListener=function(b){this.$VideoWithInstreamVideo26(b);return a.prototype.addListener.apply(this,arguments)};d.registerInstreamVideo=function(a){this.$VideoWithInstreamVideo15||(this.$VideoWithInstreamVideo15=!0,this.$VideoWithInstreamVideo2.instreamVideoStart());if(this.$VideoWithInstreamVideo3===this.$VideoWithInstreamVideo2){this.$VideoWithInstreamVideo11=this.$VideoWithInstreamVideo2.isState("playing");this.$VideoWithInstreamVideo13=this.$VideoWithInstreamVideo2.isMuted();this.$VideoWithInstreamVideo14=this.$VideoWithInstreamVideo2.getVolume();var b=this.getCurrentInstreamVideoAdType();if(b==="live"&&this.$VideoWithInstreamVideo6!=="pre_roll")this.$VideoWithInstreamVideo2.mute();else if(b==="vod"||b==="nonlive"||b==="live"&&this.$VideoWithInstreamVideo6==="pre_roll"){this.$VideoWithInstreamVideo2.setLogEntryPropertyGetters((b={},b.instream_video_ad_break_index=this.$VideoWithInstreamVideo5,b.instream_video_ad_break_video_id=this.$VideoWithInstreamVideo7?this.$VideoWithInstreamVideo7:-1,b.instream_video_ad_client_token=this.$VideoWithInstreamVideo8?this.$VideoWithInstreamVideo8:"",b));this.$VideoWithInstreamVideo2.pause("commercial_break")}}this.$VideoWithInstreamVideo3=a};d.resetInstreamVideo=function(){this.$VideoWithInstreamVideo2.removeLogEntryPropertyGetters(["instream_video_ad_break_index","instream_video_ad_break_video_id","instream_video_ad_client_token"]);if(this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2){var a=this.getCurrentInstreamVideoAdType();a==="live"&&!this.$VideoWithInstreamVideo13&&this.$VideoWithInstreamVideo2.isMuted()?this.$VideoWithInstreamVideo2.unmute():(a==="vod"||a==="nonlive")&&this.$VideoWithInstreamVideo11&&!this.$VideoWithInstreamVideo2.isState("playing")&&this.$VideoWithInstreamVideo2.play("commercial_break")}this.$VideoWithInstreamVideo3=this.$VideoWithInstreamVideo2;this.$VideoWithInstreamVideo15=!1;this.$VideoWithInstreamVideo2.instreamVideoEnd()};d.shouldPlayInstreamAd=function(){if(this.$VideoWithInstreamVideo4.isLive&&this.$VideoWithInstreamVideo6==="pre_roll")return!0;return this.$VideoWithInstreamVideo4.isLive&&!this.$VideoWithInstreamVideo11?!1:this.getIsVisibleForAutoplay()};d.playInstreamAd=function(){var a=this;if(!this.$VideoWithInstreamVideo3||this.$VideoWithInstreamVideo3===this.$VideoWithInstreamVideo2){b("BanzaiODS").bumpEntityKey(2966,"instreamads","missing_ad_player");return}var c=this.$VideoWithInstreamVideo3;this.logMarauderEvent("commercial_break_start_ad");c.once("beginPlayback",function(){a.$VideoWithInstreamVideo18={adClientToken:c.getAdClientToken(),adStartPlayingTimeMs:Date.now(),adPositionInVideoMs:a.$VideoWithInstreamVideo2.getCurrentTimePosition()*b("DateConsts").MS_PER_SEC,playerOrigin:a.$VideoWithInstreamVideo2.getPlayerOrigin(),playerSubOrigin:b("CommercialBreakUtil").getVideoPlayerSubOrigin(a.$VideoWithInstreamVideo2),playerFormat:b("CommercialBreakUtil").getVideoPlayerFormat(a.$VideoWithInstreamVideo2)}});this.$VideoWithInstreamVideo13?c.mute():(c.unmute(),b("qex")._("1435138")?c.setVolume(this.$VideoWithInstreamVideo14*this.getNormalizedVolumeScalar(this.$VideoWithInstreamVideo21)):c.setVolume(this.$VideoWithInstreamVideo14));this.$VideoWithInstreamVideo12=!1;c.play("autoplay_initiated")};d.play=function(a){this.$VideoWithInstreamVideo11=!0;if(this.$VideoWithInstreamVideo3&&(this.$VideoWithInstreamVideo3===this.$VideoWithInstreamVideo2||this.$VideoWithInstreamVideo3.isState("paused")||this.$VideoWithInstreamVideo3.isState("playing"))){var b=this.$VideoWithInstreamVideo3;this.$VideoWithInstreamVideo2.getOption("VideoWithCommercialBreak","isInstreamPausedByNFX")||(this.$VideoWithInstreamVideo12&&b!==this.$VideoWithInstreamVideo2?b.once("pausePlayback",function(){return b.play(a)}):b.play(a))}this.$VideoWithInstreamVideo4.isLive&&this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2&&this.$VideoWithInstreamVideo2.play(a)};d.pause=function(a){var b=this;if(a==="user_initiated"&&this.$VideoWithInstreamVideo3===this.$VideoWithInstreamVideo2&&this.$VideoWithInstreamVideo2.getOption("VideoWithInstreamVideo","disableClickToPause"))return;this.$VideoWithInstreamVideo11=!1;if(this.$VideoWithInstreamVideo3&&(this.$VideoWithInstreamVideo3===this.$VideoWithInstreamVideo2||this.$VideoWithInstreamVideo3.isState("playing"))){var c=this.$VideoWithInstreamVideo3;c!==this.$VideoWithInstreamVideo2&&(this.$VideoWithInstreamVideo12=!0,c.once("pausePlayback",function(){return b.$VideoWithInstreamVideo12=!1}));c.pause(a)}this.$VideoWithInstreamVideo4.isLive&&this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2&&this.$VideoWithInstreamVideo2.pause(a)};d.mute=function(){this.$VideoWithInstreamVideo13=!0,this.$VideoWithInstreamVideo3&&this.$VideoWithInstreamVideo3.mute()};d.unmute=function(){this.$VideoWithInstreamVideo13=!1,this.$VideoWithInstreamVideo3&&this.$VideoWithInstreamVideo3.unmute()};d.isMuted=function(){return this.$VideoWithInstreamVideo3?this.$VideoWithInstreamVideo3.isMuted():this.$VideoWithInstreamVideo2.isMuted()};d.isState=function(a){return this.$VideoWithInstreamVideo3?this.$VideoWithInstreamVideo3.isState(a):this.$VideoWithInstreamVideo2.isState(a)};d.destroy=function(){this.$VideoWithInstreamVideo3&&this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2&&this.$VideoWithInstreamVideo3.destroy(),this.$VideoWithInstreamVideo2.destroy()};d.updateSource=function(a){this.$VideoWithInstreamVideo3&&this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2&&this.$VideoWithInstreamVideo3.updateSource(a),this.$VideoWithInstreamVideo2.updateSource(a)};d.getConfig=function(){return this.$VideoWithInstreamVideo4};d.setCurrentInstreamVideoAdBreakIndex=function(a){this.$VideoWithInstreamVideo5=a};d.setCurrentInstreamPlacement=function(a){this.$VideoWithInstreamVideo6=a};d.setCurrentInstreamVideoAdBreakVideoID=function(a){this.$VideoWithInstreamVideo7=a};d.setCurrentInstreamVideoAdBreakClientToken=function(a){this.$VideoWithInstreamVideo8=a};d.setCurrentAdTriggerSource=function(a){this.$VideoWithInstreamVideo9=a};d.setCurrentClientLiveVideoTimestamp=function(a){this.$VideoWithInstreamVideo10=a};d.setThumbnailURLForPreview=function(a){this.$VideoWithInstreamVideo19=a};d.getPreferredThumbnailURI=function(){return this.$VideoWithInstreamVideo4.isComposerPreviewing?this.$VideoWithInstreamVideo19:this.$VideoWithInstreamVideo4.preferredThumbnailURI};d.getCurrentInstreamVideoAdType=function(){if(this.$VideoWithInstreamVideo4.isLive)return"live";else if(this.$VideoWithInstreamVideo4.isBroadcast)return"vod";else return"nonlive"};d.getCurrentInstreamPlacement=function(){return this.$VideoWithInstreamVideo6};d.getCurrentInstreamVideoAdBreakVideoID=function(){return this.$VideoWithInstreamVideo7};d.getCurrentInstreamVideoAdBreakIndex=function(){return this.$VideoWithInstreamVideo5};d.getCurrentAdTriggerSource=function(){return this.$VideoWithInstreamVideo9};d.getCurrentClientLiveVideoTimestamp=function(){return this.$VideoWithInstreamVideo10};d.getIsAdActive=function(){return this.$VideoWithInstreamVideo3&&this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2};d.getAdController=function(){return this.getIsAdActive()?this.$VideoWithInstreamVideo3:null};d.$VideoWithInstreamVideo22=function(){var a=this.getIsVisibleForAutoplay();if(this.$VideoWithInstreamVideo16!==a){if(this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2){var c=null,d=this.$VideoWithInstreamVideo3;d&&d.getPlaybackDuration()>0&&(c=b("DateConsts").MS_PER_SEC*(d.getPlaybackDuration()-d.getCurrentTimePosition()));this.logMarauderEvent(a?"commercial_break_scrolled_into":"commercial_break_scrolled_away",{remaining_ad_duration_ms:c})}this.$VideoWithInstreamVideo2.emit(a?"commercialBreak/scrollInto":"commercialBreak/scrollAway")}this.$VideoWithInstreamVideo16=a};d.getIsVisibleForAutoplay=function(){var a=this.$VideoWithInstreamVideo2.getOption("FeedAutoplay","isVisibleForAutoplay");return a||a===void 0};d.getMostRecentAdInfo=function(){return this.$VideoWithInstreamVideo18};d.logMarauderEvent=function(a,c){c===void 0&&(c={});if(!Object.prototype.hasOwnProperty.call(b("CommercialBreakShouldLogMarauderEvent"),a)||!b("CommercialBreakShouldLogMarauderEvent")[a])return;c.host_video_id=this.$VideoWithInstreamVideo4.hostVideoID;c.instream_video_ad_type=this.getCurrentInstreamVideoAdType();Object.prototype.hasOwnProperty.call(c,"ad_break_index")||(c.ad_break_index=this.$VideoWithInstreamVideo5);Object.prototype.hasOwnProperty.call(c,"instream_placement")||(c.instream_placement=this.$VideoWithInstreamVideo6);c.is_sponsored=this.$VideoWithInstreamVideo4.isSponsored;c.is_visible=this.getIsVisibleForAutoplay();c.player_origin=this.$VideoWithInstreamVideo4.playerOrigin;Object.prototype.hasOwnProperty.call(c,"commercial_break_ad_client_token")||(c.commercial_break_ad_client_token=this.$VideoWithInstreamVideo8);b("MarauderLogger").log(a,"commercial_break",c)};d.getNormalizedVolumeScalar=function(a){return a==null||a<=this.$VideoWithInstreamVideo20?1:Math.pow(10,(this.$VideoWithInstreamVideo20-a)/20)};d.setIntegratedLoudnessValue=function(a){this.$VideoWithInstreamVideo21=a};return c}(b("EventEmitter"));e.exports=a}),null);
__d("XGroupsMembersAddedDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/groups/members/add_post/",{group_id:{type:"FBID"},refresh:{type:"Bool",defaultValue:!1},remove_dom:{type:"Bool",defaultValue:!1},message_id:{type:"String"},ref:{type:"String"},source:{type:"Enum",enumType:1},ignore:{type:"Bool",defaultValue:!1},block_user:{type:"Bool",defaultValue:!1},message:{type:"String"},recommendation_key:{type:"String"},members:{type:"StringKeyset"},freeform:{type:"StringKeyset"},free_member:{type:"Bool",defaultValue:!1},multi_company_confirm:{type:"Bool",defaultValue:!1}})}),null);
__d("XReactComposerLoggingODSController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/logging/ods/",{attachment_type:{type:"String"},composer_type:{type:"Enum",required:!0,enumType:1},event:{type:"String",required:!0}})}),null);
__d("XReactComposerQuestionAttachmentBootstrapController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/react_composer/question/bootstrap/",{composer_id:{type:"String",required:!0},composer_type:{type:"Enum",required:!0,enumType:1},target_id:{type:"String",required:!0}})}),null);