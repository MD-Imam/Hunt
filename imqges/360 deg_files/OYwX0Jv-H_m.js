if (self.CavalryLogger) { CavalryLogger.start_js(["kWZ6+"]); }

__d("AdsMediaPickerDialogQueryContext",["react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");e.exports=a.createContext({hasQuery:!1})}),null);
__d("UFI2MediaUploadButton.react",["cx","React","UFI2LinkWrapper.react","UFICommentFileInputAcceptValues","UserAgent"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("UFICommentFileInputAcceptValues").both,j=function(c){babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.state={shouldIgnoreFocus:!0,uploadDialogIsOpen:b.props.initialUploadDialogIsOpen},b.$1=null,b.$2=null,b.$3=function(){b.setState({shouldIgnoreFocus:!1,uploadDialogIsOpen:!0}),b.$2&&b.$2.click()},b.$4=function(){!b.state.shouldIgnoreFocus&&b.state.uploadDialogIsOpen?b.setState({uploadDialogIsOpen:!1}):b.setState({shouldIgnoreFocus:!1})},b.$5=function(){b.state.uploadDialogIsOpen&&b.setState({uploadDialogIsOpen:!1})},b.$6=function(a){b.$1=a,b.props.onFocusableElementRefChange(b.$1)},b.$7=function(a){b.$2=a},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.focus=function(){this.$1&&this.$1.focus()};d.render=function(){var a=this.props,c=a.fileIsHoveringOverDropTarget,d=a.hasErrored;a=a.label;var e=b("UserAgent").isBrowser("Firefox");return h.jsxs(h.Fragment,{children:[h.jsx("input",{accept:i,className:"hidden_elem",onChange:this.props.onFileChange,ref:this.$7,type:"file"}),h.jsx(b("UFI2LinkWrapper.react"),{"aria-label":a,className:"_1t9_ _7ja_",href:"#",linkRef:this.$6,onBlur:e?this.$5:void 0,onClick:this.$3,onFocus:this.$4,role:"button",children:h.jsx("div",{className:(c?"_3n42":"")+(!c&&!d&&!this.state.uploadDialogIsOpen?" _3n43":"")+(!c&&!d&&this.state.uploadDialogIsOpen?" _7xbl":"")+(d?" _3nb4":"")})})]})};return a}(h.PureComponent);j.defaultProps={fileIsHoveringOverDropTarget:!1,hasErrored:!1};a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){var b=a.target.files.item(0);c.props.onComposerStateChange(function(a){return babelHelpers["extends"]({},a,{attachment:{__type:"Media",reference:{__type:"File",file:b}}})})},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.render=function(){var a=this.props;a.onComposerStateChange;a.onTogglePopover;a=babelHelpers.objectWithoutPropertiesLoose(a,["onComposerStateChange","onTogglePopover"]);return h.jsx(j,babelHelpers["extends"]({},a,{onFileChange:this.$1}))};return b}(h.Component);e.exports=a}),null);